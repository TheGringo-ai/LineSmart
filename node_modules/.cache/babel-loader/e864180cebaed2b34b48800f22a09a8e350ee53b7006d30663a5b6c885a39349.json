{"ast":null,"code":"import React,{useState,useRef,useEffect}from'react';import{Upload,FileText,Users,Brain,CheckCircle,AlertCircle,Play,Download,Settings,UserPlus,Target,TrendingUp,Calendar,Award,BookOpen,Plus,Edit3,Eye,Filter,Database,Cloud,Key,Zap,Link,Bot,FileSearch,Search,Building,Globe,Shield,GitBranch}from'lucide-react';import RAGManager from'./components/RAGManager';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const LineSmartPlatform=()=>{var _aiModels$find,_setupConfig$aiModels,_setupConfig$aiModels2,_trainingData$quizCon3,_trainingData$quizCon4,_trainingData$quizCon5,_trainingData$quizCon6,_trainingData$quizCon7,_trainingData$quizCon8;const[currentView,setCurrentView]=useState('setup');const[setupStep,setSetupStep]=useState('welcome');const[selectedEmployee,setSelectedEmployee]=useState(null);const[showRAGManager,setShowRAGManager]=useState(false);const[setupConfig,setSetupConfig]=useState({company:{name:'',industry:'',size:'',departments:[],customDepartments:'',safetyRequirements:[],complianceStandards:[],defaultLanguage:'en',supportedLanguages:['en','es','fr','pt','de']},aiModels:{primary:'',secondary:'',configs:{openai:{apiKey:'',model:'gpt-4',endpoint:''},claude:{apiKey:'',model:'claude-3-sonnet',endpoint:''},gemini:{apiKey:'',model:'gemini-pro',endpoint:''},llama:{apiKey:'',model:'llama-2-70b',endpoint:''},custom:{name:'',apiKey:'',model:'',endpoint:''}}},dataSource:{type:'',config:{googleDrive:{folderId:'',credentials:'',sharedDrives:[]},s3:{bucket:'',region:'',accessKey:'',secretKey:''},azure:{container:'',connectionString:'',account:''},sharepoint:{siteUrl:'',tenantId:'',clientId:'',clientSecret:''},local:{path:'',format:''}},ragSettings:{enabled:true,chunkSize:1000,overlap:200,vectorStore:'chromadb',embeddingModel:'text-embedding-ada-002'}},onboarding:{defaultTrainings:[],departmentSpecific:{},probationPeriod:90,checkpoints:[],mentorAssignment:true},supervisorPermissions:{canCreateDepartmentTraining:true,canCreateIndividualTraining:true,canModifyTraining:true,canViewAllEmployees:true,canAssignTraining:true,requiresApproval:false}});const[employees,setEmployees]=useState([{id:1,name:'John Smith',department:'Maintenance',position:'Senior Technician',role:'employee',supervisor:'Mike Rodriguez',hireDate:'2023-01-15',preferredLanguage:'en',completedTrainings:8,totalTrainings:12,lastTraining:'2024-07-20',performance:92,certifications:['OSHA 30','Electrical Safety'],trainingHistory:[{id:1,title:'Lockout/Tagout Procedures',date:'2024-07-20',score:95,status:'completed',language:'en',ragSources:['Manual_LOTO_v2.pdf','Safety_Protocol_2024.docx']},{id:2,title:'Equipment Maintenance',date:'2024-07-15',score:88,status:'completed',language:'en',ragSources:['Maintenance_Guide.pdf']},{id:3,title:'Safety Protocols',date:'2024-07-10',score:92,status:'completed',language:'en',ragSources:['Company_Safety_Manual.pdf','OSHA_Guidelines.pdf']}],recommendedTrainings:[{title:'Advanced Hydraulic Systems',reason:'Based on recent equipment updates and internal documentation analysis',priority:'high',ragSources:['Hydraulic_Manual_2024.pdf']},{title:'Emergency Response',reason:'Due for annual recertification per company policy',priority:'medium',ragSources:['Emergency_Procedures.docx']}]},{id:2,name:'Sarah Johnson',department:'Production',position:'Line Operator',role:'employee',supervisor:'Lisa Chen',hireDate:'2023-06-01',preferredLanguage:'en',completedTrainings:6,totalTrainings:10,lastTraining:'2024-07-18',performance:85,certifications:['Food Safety'],trainingHistory:[{id:4,title:'SQF Compliance',date:'2024-07-18',score:82,status:'completed',language:'en',ragSources:['SQF_Manual.pdf']},{id:5,title:'Quality Control',date:'2024-07-12',score:88,status:'completed',language:'en',ragSources:['Quality_Guidelines.pdf']}],recommendedTrainings:[{title:'Advanced Quality Control',reason:'Based on recent quality metrics',priority:'high'},{title:'Team Leadership',reason:'Career development opportunity',priority:'low'}]},{id:3,name:'Mike Rodriguez',department:'Safety',position:'Safety Coordinator',role:'supervisor',supervisor:'Director of Operations',hireDate:'2022-11-10',preferredLanguage:'en',completedTrainings:15,totalTrainings:18,lastTraining:'2024-07-22',performance:96,certifications:['OSHA 30','First Aid','Environmental Safety'],supervisesEmployees:[1],canCreateTraining:true,trainingHistory:[{id:6,title:'Hazard Communication',date:'2024-07-22',score:98,status:'completed',language:'en',ragSources:['OSHA_Standards.pdf']},{id:7,title:'Incident Investigation',date:'2024-07-17',score:94,status:'completed',language:'en',ragSources:['Investigation_Manual.pdf']}],recommendedTrainings:[{title:'Industrial Hygiene',reason:'Skill enhancement opportunity',priority:'medium'}]},{id:4,name:'MarÃ­a GarcÃ­a',department:'Production',position:'Line Operator',role:'employee',supervisor:'Lisa Chen',hireDate:'2024-02-15',preferredLanguage:'es',completedTrainings:3,totalTrainings:8,lastTraining:'2024-07-10',performance:78,certifications:['Basic Safety'],trainingHistory:[{id:8,title:'OrientaciÃ³n de Seguridad',date:'2024-07-10',score:85,status:'completed',language:'es',ragSources:['Manual_Seguridad_ES.pdf']},{id:9,title:'Procedimientos de Calidad',date:'2024-06-20',score:82,status:'completed',language:'es',ragSources:['Calidad_Manual_ES.pdf']}],recommendedTrainings:[{title:'Seguridad Alimentaria Avanzada',reason:'Necesario para certificaciÃ³n departamental',priority:'high'},{title:'ComunicaciÃ³n en el Lugar de Trabajo',reason:'Mejora de habilidades de comunicaciÃ³n',priority:'medium'}]},{id:5,name:'Lisa Chen',department:'Production',position:'Production Supervisor',role:'supervisor',supervisor:'Director of Operations',hireDate:'2021-08-10',preferredLanguage:'en',completedTrainings:20,totalTrainings:22,lastTraining:'2024-07-25',performance:94,certifications:['Production Management','Lean Manufacturing','Food Safety'],supervisesEmployees:[2,4],canCreateTraining:true,trainingHistory:[{id:10,title:'Leadership Development',date:'2024-07-25',score:96,status:'completed',language:'en',ragSources:['Leadership_Guide.pdf']}],recommendedTrainings:[{title:'Advanced Lean Manufacturing',reason:'Process improvement initiative',priority:'medium'}]}]);const[trainingData,setTrainingData]=useState({title:'',department:'',trainingType:'',description:'',objectives:'',documents:[],assignedEmployees:[],dueDate:'',ragSources:[],aiModel:'primary',language:'en',trainingScope:'individual',supervisorId:null,quizConfig:{questionCount:5,passingScore:80,style:'mixed'}});const[newEmployee,setNewEmployee]=useState({name:'',department:'',position:'',email:'',hireDate:'',directSupervisor:'',preferredLanguage:'en'});const[generatedTraining,setGeneratedTraining]=useState(null);const[isGenerating,setIsGenerating]=useState(false);const[quizResults,setQuizResults]=useState(null);const[currentQuestionIndex,setCurrentQuestionIndex]=useState(0);const[userAnswers,setUserAnswers]=useState({});const[showAddEmployee,setShowAddEmployee]=useState(false);const[filterDepartment,setFilterDepartment]=useState('all');const[ragAnalysis,setRagAnalysis]=useState(null);const[isAnalyzing,setIsAnalyzing]=useState(false);const fileInputRef=useRef(null);const industries=['Manufacturing','Food & Beverage','Pharmaceutical','Automotive','Aerospace','Chemical','Construction','Energy','Healthcare','Technology'];const companySizes=['1-50 employees','51-200 employees','201-1000 employees','1001-5000 employees','5000+ employees'];const standardDepartments=['Production','Maintenance','Quality Assurance','Safety','Warehouse','Sanitation','Management','HR','Engineering','R&D','Logistics'];const safetyRequirements=['OSHA Compliance','ISO 45001','SQF Food Safety','HACCP','GMP','FDA Regulations','Environmental Health','Fire Safety','Chemical Safety'];const trainingTypes=['Safety Procedures','Equipment Quality','SQF Compliance','Disciplinary Guidelines','Technical Operations','Emergency Procedures','Quality Control','Maintenance Protocols','Food Safety','Environmental Health','Onboarding Orientation','Leadership Development'];const languages=[{code:'en',name:'English',flag:'ðŸ‡ºðŸ‡¸'},{code:'es',name:'EspaÃ±ol',flag:'ðŸ‡ªðŸ‡¸'},{code:'fr',name:'FranÃ§ais',flag:'ðŸ‡«ðŸ‡·'},{code:'pt',name:'PortuguÃªs',flag:'ðŸ‡§ðŸ‡·'},{code:'de',name:'Deutsch',flag:'ðŸ‡©ðŸ‡ª'},{code:'it',name:'Italiano',flag:'ðŸ‡®ðŸ‡¹'},{code:'zh',name:'ä¸­æ–‡',flag:'ðŸ‡¨ðŸ‡³'},{code:'ja',name:'æ—¥æœ¬èªž',flag:'ðŸ‡¯ðŸ‡µ'},{code:'ko',name:'í•œêµ­ì–´',flag:'ðŸ‡°ðŸ‡·'},{code:'ar',name:'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©',flag:'ðŸ‡¸ðŸ‡¦'}];const aiModels=[{id:'openai',name:'OpenAI GPT',description:'GPT-3.5/GPT-4 models for comprehensive training generation'},{id:'claude',name:'Anthropic Claude',description:'Claude 3 Sonnet/Opus for detailed, safe training content'},{id:'gemini',name:'Google Gemini',description:'Gemini Pro for multimodal training with document analysis'},{id:'llama',name:'Meta Llama',description:'Open-source Llama models for custom deployment'},{id:'custom',name:'Custom Model',description:'Connect your own fine-tuned or enterprise model'}];const dataSourceTypes=[{id:'googleDrive',name:'Google Drive',icon:/*#__PURE__*/_jsx(Cloud,{className:\"h-5 w-5\"}),description:'Connect to Google Drive folders and shared drives'},{id:'s3',name:'Amazon S3',icon:/*#__PURE__*/_jsx(Database,{className:\"h-5 w-5\"}),description:'AWS S3 bucket integration for document storage'},{id:'azure',name:'Azure Blob',icon:/*#__PURE__*/_jsx(Cloud,{className:\"h-5 w-5\"}),description:'Microsoft Azure Blob Storage'},{id:'sharepoint',name:'SharePoint',icon:/*#__PURE__*/_jsx(Building,{className:\"h-5 w-5\"}),description:'Microsoft SharePoint document libraries'},{id:'local',name:'Local Files',icon:/*#__PURE__*/_jsx(FileText,{className:\"h-5 w-5\"}),description:'Upload files directly to the platform'}];const currentUser=employees.find(emp=>emp.role==='supervisor')||employees[2];const supervisedEmployees=employees.filter(emp=>{var _currentUser$supervis;return emp.supervisor===(currentUser===null||currentUser===void 0?void 0:currentUser.name)||(currentUser===null||currentUser===void 0?void 0:(_currentUser$supervis=currentUser.supervisesEmployees)===null||_currentUser$supervis===void 0?void 0:_currentUser$supervis.includes(emp.id));});const currentUserDepartment=currentUser===null||currentUser===void 0?void 0:currentUser.department;const getLanguageName=code=>{const lang=languages.find(l=>l.code===code);return lang?`${lang.flag} ${lang.name}`:code;};// AI-assisted form filling function\nconst generateCompanyConfig=async(companyName,industry)=>{const suggestions={'Manufacturing':{departments:['Production','Maintenance','Quality Assurance','Safety','Engineering'],safetyRequirements:['OSHA Compliance','ISO 45001','Environmental Health'],defaultTrainings:['Safety Orientation','Equipment Training','Quality Procedures']},'Food & Beverage':{departments:['Production','Quality Assurance','Sanitation','Warehouse','Maintenance'],safetyRequirements:['SQF Food Safety','HACCP','FDA Regulations','GMP'],defaultTrainings:['Food Safety Fundamentals','HACCP Principles','Sanitation Procedures']},'Healthcare':{departments:['Clinical','Nursing','Administration','Maintenance','Safety'],safetyRequirements:['OSHA Compliance','HIPAA','Infection Control'],defaultTrainings:['HIPAA Training','Infection Control','Patient Safety']}};const config=suggestions[industry]||suggestions['Manufacturing'];setSetupConfig(prev=>({...prev,company:{...prev.company,departments:config.departments,safetyRequirements:config.safetyRequirements},onboarding:{...prev.onboarding,defaultTrainings:config.defaultTrainings}}));};// RAG-powered training analysis\nconst analyzeTrainingWithRAG=async(employee,trainingType)=>{setIsAnalyzing(true);try{const mockAnalysis={relevantDocuments:[{name:'Safety_Manual_2024.pdf',relevance:0.95,chunks:3},{name:'Equipment_Procedures.docx',relevance:0.88,chunks:2},{name:'Company_Policies.pdf',relevance:0.76,chunks:1}],suggestedContent:['Based on your safety manual, emphasis should be placed on PPE requirements specific to maintenance roles','Recent equipment updates documented in procedures require additional hydraulic system training','Company policy changes from Q3 2024 affect maintenance scheduling protocols'],performanceGaps:['Equipment troubleshooting scores below department average','Safety compliance needs reinforcement based on recent incidents','Documentation practices need improvement per quality standards'],recommendedTrainings:[{title:'Advanced Equipment Diagnostics',reason:'Based on performance analysis and new equipment documentation',priority:'high',estimatedDuration:'4 hours',ragSources:['Equipment_Manual_v3.pdf','Troubleshooting_Guide.docx']},{title:'Updated Safety Protocols',reason:'Recent policy changes and incident analysis',priority:'medium',estimatedDuration:'2 hours',ragSources:['Safety_Updates_2024.pdf','Incident_Reports.xlsx']}]};setRagAnalysis(mockAnalysis);}catch(error){console.error('RAG analysis failed:',error);}finally{setIsAnalyzing(false);}};const handleSetupNext=()=>{const steps=['welcome','company','ai-models','data-source','onboarding','complete'];const currentIndex=steps.indexOf(setupStep);if(currentIndex<steps.length-1){setSetupStep(steps[currentIndex+1]);}};const handleSetupPrev=()=>{const steps=['welcome','company','ai-models','data-source','onboarding','complete'];const currentIndex=steps.indexOf(setupStep);if(currentIndex>0){setSetupStep(steps[currentIndex-1]);}};const testConnection=async(type,config)=>{return new Promise(resolve=>{setTimeout(()=>{resolve({success:true,message:'Connection successful'});},2000);});};const generateTrainingWithAPI=async()=>{const prompt=createTrainingPrompt();// Try user's configured APIs first (OpenAI, Anthropic, etc.)\nconst enabledModels=Object.entries(setupConfig.aiModels.configs).filter(_ref=>{let[key,config]=_ref;return config.apiKey&&key!=='llama';});if(enabledModels.length>0){// Try user's configured models first\ntry{return await callUserConfiguredAPI(enabledModels[0],prompt);}catch(error){console.log('User API failed, falling back to free LLaMA:',error.message);}}// Fallback to free LLaMA API \nreturn await callFreeLlamaAPI(prompt);};const createTrainingPrompt=()=>{var _languages$find;const isSpanish=trainingData.language==='es';const targetLanguage=((_languages$find=languages.find(lang=>lang.code===trainingData.language))===null||_languages$find===void 0?void 0:_languages$find.name)||'English';const assignedEmployeeNames=trainingData.trainingScope==='individual'?trainingData.assignedEmployees.map(id=>{var _employees$find;return(_employees$find=employees.find(emp=>emp.id===id))===null||_employees$find===void 0?void 0:_employees$find.name;}).join(', '):trainingData.trainingScope==='department'?`All ${currentUserDepartment} department employees`:'All company employees';return`Create a comprehensive training module in ${targetLanguage} for:\n- Job Title: ${trainingData.title}\n- Company: ${setupConfig.company.name}\n- Department: ${trainingData.department}\n- Target: ${assignedEmployeeNames}\n- Language: ${targetLanguage}\n\n${ragAnalysis?`Context from company documents:\n- Relevant documents: ${ragAnalysis.relevantDocuments.map(doc=>doc.name).join(', ')}\n- Key insights: ${ragAnalysis.suggestedContent.join(' ')}\n- Performance gaps: ${ragAnalysis.performanceGaps.join(' ')}`:''}\n\nReturn a JSON object with this exact structure:\n{\n  \"training\": {\n    \"introduction\": \"Welcome message and overview\",\n    \"sections\": [\n      {\n        \"title\": \"Section title\",\n        \"content\": \"Section content\",\n        \"keyPoints\": [\"Point 1\", \"Point 2\", \"Point 3\"],\n        \"ragSources\": [\"doc1.pdf\", \"doc2.pdf\"]\n      }\n    ],\n    \"safetyNotes\": [\"Safety point 1\", \"Safety point 2\"],\n    \"bestPractices\": [\"Practice 1\", \"Practice 2\"],\n    \"commonMistakes\": [\"Mistake 1\", \"Mistake 2\"]\n  },\n  \"quiz\": [\n    {\n      \"question\": \"Question text?\",\n      \"options\": [\"A) Option 1\", \"B) Option 2\", \"C) Option 3\", \"D) Option 4\"],\n      \"correct\": 1,\n      \"explanation\": \"Explanation of correct answer\",\n      \"type\": \"Question type\",\n      \"ragSource\": \"source_document.pdf\"\n    }\n  ]\n}`;};const callUserConfiguredAPI=async(_ref2,prompt)=>{let[modelName,config]=_ref2;// Implementation for calling user's configured APIs (OpenAI, Anthropic, etc.)\nif(modelName==='openai'&&config.apiKey){const response=await fetch('https://api.openai.com/v1/chat/completions',{method:'POST',headers:{'Content-Type':'application/json','Authorization':`Bearer ${config.apiKey}`},body:JSON.stringify({model:config.model||'gpt-3.5-turbo',messages:[{role:'user',content:prompt}],max_tokens:2000,temperature:0.7})});if(!response.ok)throw new Error(`OpenAI API error: ${response.status}`);const data=await response.json();return parseTrainingResponse(data.choices[0].message.content);}if(modelName==='anthropic'&&config.apiKey){const response=await fetch('https://api.anthropic.com/v1/messages',{method:'POST',headers:{'Content-Type':'application/json','Authorization':`Bearer ${config.apiKey}`,'anthropic-version':'2023-06-01'},body:JSON.stringify({model:config.model||'claude-3-sonnet-20240229',messages:[{role:'user',content:prompt}],max_tokens:2000})});if(!response.ok)throw new Error(`Anthropic API error: ${response.status}`);const data=await response.json();return parseTrainingResponse(data.content[0].text);}throw new Error(`Model ${modelName} not implemented yet`);};const callFreeLlamaAPI=async prompt=>{console.log('ðŸ¦™ Using free LLaMA API as fallback...');const response=await fetch('https://chatterfix-llama-api-650169261019.us-central1.run.app/v1/chat/completions',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({model:'llama3.2:1b',messages:[{role:'user',content:prompt}],max_tokens:2000,temperature:0.7})});if(!response.ok){throw new Error(`Free LLaMA API error: ${response.status}`);}const data=await response.json();return parseTrainingResponse(data.choices[0].message.content);};const parseTrainingResponse=content=>{try{// Try to parse as JSON first\nconst parsed=JSON.parse(content);// Validate the structure\nif(parsed.training&&parsed.quiz){return parsed;}// If structure is wrong, throw error to fall back to mock\nthrow new Error('Invalid response structure');}catch(error){console.log('Failed to parse API response as JSON, falling back to mock data');throw error;}};const generateTraining=async()=>{setIsGenerating(true);try{var _languages$find2,_ragAnalysis$relevant,_ragAnalysis$relevant2,_ragAnalysis$relevant3,_ragAnalysis$relevant4,_ragAnalysis$relevant5,_ragAnalysis$relevant6,_trainingData$quizCon;const ragContext=ragAnalysis?`\nRAG Analysis Context:\n- Relevant company documents: ${ragAnalysis.relevantDocuments.map(doc=>doc.name).join(', ')}\n- Key insights: ${ragAnalysis.suggestedContent.join(' ')}\n- Performance gaps identified: ${ragAnalysis.performanceGaps.join(' ')}\n`:'';const assignedEmployeeNames=trainingData.trainingScope==='individual'?trainingData.assignedEmployees.map(id=>{var _employees$find2;return(_employees$find2=employees.find(emp=>emp.id===id))===null||_employees$find2===void 0?void 0:_employees$find2.name;}).join(', '):trainingData.trainingScope==='department'?`All ${currentUserDepartment} department employees`:'All company employees';const targetLanguage=((_languages$find2=languages.find(lang=>lang.code===trainingData.language))===null||_languages$find2===void 0?void 0:_languages$find2.name)||'English';// Try to generate content using API (user's configured models or free LLaMA fallback)\nlet apiResponse=null;try{apiResponse=await generateTrainingWithAPI();}catch(error){console.log('API generation failed, using enhanced mock data:',error.message);}// Use API response if available, otherwise enhanced mock response with multi-language support\nconst isSpanish=trainingData.language==='es';const mockResponse=apiResponse||{training:{introduction:isSpanish?`Bienvenido al mÃ³dulo de capacitaciÃ³n ${trainingData.title} para ${setupConfig.company.name}. Esta capacitaciÃ³n ha sido personalizada utilizando los procedimientos y polÃ­ticas especÃ­ficos de nuestra empresa. Basado en el anÃ¡lisis de nuestra documentaciÃ³n interna, esta capacitaciÃ³n aborda Ã¡reas clave identificadas para ${assignedEmployeeNames} en el departamento de ${trainingData.department}.`:`Welcome to the ${trainingData.title} training module for ${setupConfig.company.name}. This training has been customized using our company's specific procedures and policies. Based on analysis of our internal documentation, this training addresses key areas identified for ${assignedEmployeeNames} in the ${trainingData.department} department.`,sections:[{title:isSpanish?\"Procedimientos EspecÃ­ficos de la Empresa\":\"Company-Specific Procedures\",content:isSpanish?`Esta secciÃ³n se basa en nuestros procedimientos y polÃ­ticas mÃ¡s recientes de la empresa. El contenido ha sido adaptado utilizando informaciÃ³n de nuestro sistema de anÃ¡lisis de documentos para garantizar la relevancia a su funciÃ³n especÃ­fica y los estÃ¡ndares actuales de la empresa.`:`This section is based on our latest company procedures and policies. The content has been tailored using information from our document analysis system to ensure relevance to your specific role and current company standards.`,keyPoints:isSpanish?[\"Seguir protocolos especÃ­ficos de la empresa segÃºn se describe en nuestros procedimientos actuales\",\"Aplicar requisitos de seguridad especÃ­ficos del departamento segÃºn el manual de la empresa\",\"Utilizar herramientas y mÃ©todos aprobados por la empresa\",\"Mantener estÃ¡ndares de documentaciÃ³n segÃºn la polÃ­tica de la empresa\"]:[\"Follow company-specific protocols as outlined in our current procedures\",\"Apply department-specific safety requirements per company manual\",\"Utilize company-approved tools and methods\",\"Maintain documentation standards as per company policy\"],ragSources:ragAnalysis?ragAnalysis.relevantDocuments.map(doc=>doc.name):[]},{title:isSpanish?\"ImplementaciÃ³n EspecÃ­fica del Rol\":\"Role-Specific Implementation\",content:isSpanish?\"Basado en el anÃ¡lisis de datos de rendimiento recientes y documentaciÃ³n de la empresa, estos procedimientos estÃ¡n personalizados para su posiciÃ³n especÃ­fica y las necesidades actuales de la empresa.\":\"Based on analysis of recent performance data and company documentation, these procedures are customized for your specific position and current company needs.\",keyPoints:isSpanish?[\"Responsabilidades y procedimientos especÃ­ficos de la posiciÃ³n\",\"IntegraciÃ³n con sistemas y procesos actuales de la empresa\",\"Cumplimiento con estÃ¡ndares de seguridad y calidad de la empresa\",\"MÃ©tricas de rendimiento alineadas con objetivos de la empresa\"]:[\"Position-specific responsibilities and procedures\",\"Integration with current company systems and processes\",\"Compliance with company safety and quality standards\",\"Performance metrics aligned with company goals\"],ragSources:ragAnalysis?ragAnalysis.relevantDocuments.map(doc=>doc.name):[]}],safetyNotes:isSpanish?[`Seguir todos los protocolos y procedimientos de seguridad de ${setupConfig.company.name}`,\"Cumplir con los requisitos especÃ­ficos de EPP de la empresa\",\"Reportar incidentes segÃºn los procedimientos de respuesta de emergencia de la empresa\",\"Mantener estÃ¡ndares de seguridad como se describe en el manual de seguridad de la empresa\"]:[`Follow all ${setupConfig.company.name} safety protocols and procedures`,\"Comply with company-specific PPE requirements\",\"Report incidents according to company emergency response procedures\",\"Maintain safety standards as outlined in company safety manual\"],bestPractices:isSpanish?[\"Utilizar mejores prÃ¡cticas y procedimientos aprobados por la empresa\",\"Mantener aprendizaje continuo segÃºn los programas de desarrollo de la empresa\",\"Colaborar efectivamente usando protocolos de comunicaciÃ³n de la empresa\",\"Documentar actividades segÃºn los estÃ¡ndares de calidad de la empresa\"]:[\"Utilize company-approved best practices and procedures\",\"Maintain continuous learning per company development programs\",\"Collaborate effectively using company communication protocols\",\"Document activities according to company quality standards\"],commonMistakes:isSpanish?[\"Desviarse de los procedimientos establecidos por la empresa\",\"Ignorar los requisitos de seguridad especÃ­ficos de la empresa\",\"No utilizar los sistemas de documentaciÃ³n de la empresa\",\"No seguir los procesos de gestiÃ³n de cambios de la empresa\"]:[\"Deviating from company-established procedures\",\"Ignoring company-specific safety requirements\",\"Failing to utilize company documentation systems\",\"Not following company change management processes\"]},quiz:isSpanish?[{question:`SegÃºn el manual de seguridad de ${setupConfig.company.name}, Â¿cuÃ¡l es el primer paso requerido antes de operar equipos en el departamento de ${trainingData.department}?`,options:[\"A) Revisar las pautas generales de seguridad\",\"B) Completar la lista de verificaciÃ³n pre-operacional especÃ­fica de la empresa\",\"C) Pedir permiso al supervisor\",\"D) Revisar los procedimientos estÃ¡ndar de la industria\"],correct:1,explanation:`El manual de seguridad de ${setupConfig.company.name} requiere especÃ­ficamente completar la lista de verificaciÃ³n pre-operacional especÃ­fica del departamento para asegurar que se sigan todos los protocolos de seguridad de la empresa.`,type:\"PolÃ­tica de la Empresa\",ragSource:ragAnalysis?(_ragAnalysis$relevant=ragAnalysis.relevantDocuments[0])===null||_ragAnalysis$relevant===void 0?void 0:_ragAnalysis$relevant.name:\"Manual_Seguridad_Empresa.pdf\"},{question:`Basado en el anÃ¡lisis de datos de rendimiento recientes, Â¿quÃ© Ã¡rea requiere mÃ¡s atenciÃ³n para mejorar en su rol?`,options:[\"A) Seguir solo las mejores prÃ¡cticas de la industria\",\"B) Integrar comentarios con el sistema de gestiÃ³n de rendimiento de la empresa\",\"C) Trabajar independientemente sin orientaciÃ³n\",\"D) Enfocarse solo en la velocidad de finalizaciÃ³n\"],correct:1,explanation:\"Los comentarios de rendimiento deben integrarse activamente con el sistema de gestiÃ³n de rendimiento de la empresa para la mejora continua y alineaciÃ³n con los objetivos de la empresa.\",type:\"IntegraciÃ³n de Rendimiento\",ragSource:ragAnalysis?(_ragAnalysis$relevant2=ragAnalysis.relevantDocuments[1])===null||_ragAnalysis$relevant2===void 0?void 0:_ragAnalysis$relevant2.name:\"Directrices_Rendimiento.pdf\"},{question:`En un escenario donde encuentra una preocupaciÃ³n de seguridad no cubierta en los procedimientos estÃ¡ndar, Â¿cuÃ¡l deberÃ­a ser su acciÃ³n inmediata segÃºn la polÃ­tica de ${setupConfig.company.name}?`,options:[\"A) Continuar trabajando y reportarlo despuÃ©s\",\"B) Detener el trabajo y seguir el procedimiento de reporte de incidentes de la empresa\",\"C) Pedir consejo a un compaÃ±ero de trabajo\",\"D) Buscar pautas de la industria en lÃ­nea\"],correct:1,explanation:`La polÃ­tica de ${setupConfig.company.name} requiere la detenciÃ³n inmediata del trabajo y seguir el procedimiento especÃ­fico de reporte de incidentes de la empresa para asegurar la seguridad y documentaciÃ³n adecuada.`,type:\"Basado en Escenarios\",ragSource:\"Procedimientos_Emergencia.docx\"},{question:`Al actualizar documentaciÃ³n segÃºn los estÃ¡ndares de calidad de ${setupConfig.company.name}, Â¿quÃ© sistema debe utilizarse?`,options:[\"A) Cualquier sistema de documentaciÃ³n disponible\",\"B) Sistema de gestiÃ³n de calidad designado por la empresa\",\"C) Notas y registros personales\",\"D) Formatos estÃ¡ndar de la industria\"],correct:1,explanation:\"Los estÃ¡ndares de calidad de la empresa requieren que toda la documentaciÃ³n se mantenga en el sistema de gestiÃ³n de calidad designado para asegurar consistencia y cumplimiento.\",type:\"Control de Calidad\",ragSource:ragAnalysis?(_ragAnalysis$relevant3=ragAnalysis.relevantDocuments[2])===null||_ragAnalysis$relevant3===void 0?void 0:_ragAnalysis$relevant3.name:\"EstÃ¡ndares_Calidad.pdf\"},{question:`Â¿CÃ³mo debe rastrearse el progreso de capacitaciÃ³n segÃºn su plan de desarrollo individual?`,options:[\"A) Solo autoevaluaciÃ³n\",\"B) A travÃ©s del sistema de gestiÃ³n de capacitaciÃ³n de la empresa con supervisiÃ³n del supervisor\",\"C) DiscusiÃ³n informal con compaÃ±eros\",\"D) Solo proceso de revisiÃ³n anual\"],correct:1,explanation:\"El progreso de capacitaciÃ³n debe rastrearse a travÃ©s del sistema de gestiÃ³n de capacitaciÃ³n de la empresa con supervisiÃ³n regular del supervisor para asegurar el desarrollo adecuado y cumplimiento.\",type:\"GestiÃ³n de CapacitaciÃ³n\",ragSource:\"PolÃ­tica_CapacitaciÃ³n.pdf\"}]:[{question:`According to ${setupConfig.company.name} safety manual, what is the required first step before operating equipment in the ${trainingData.department} department?`,options:[\"A) Check general safety guidelines\",\"B) Complete company-specific pre-operation checklist\",\"C) Ask supervisor for permission\",\"D) Review industry standard procedures\"],correct:1,explanation:`${setupConfig.company.name}'s safety manual specifically requires completion of the department-specific pre-operation checklist to ensure all company safety protocols are followed.`,type:\"Company Policy\",ragSource:ragAnalysis?(_ragAnalysis$relevant4=ragAnalysis.relevantDocuments[0])===null||_ragAnalysis$relevant4===void 0?void 0:_ragAnalysis$relevant4.name:\"Company_Safety_Manual.pdf\"},{question:`Based on recent performance data analysis, which area requires the most attention for improvement in your role?`,options:[\"A) Following industry best practices only\",\"B) Integrating feedback with company performance management system\",\"C) Working independently without guidance\",\"D) Focusing only on speed of completion\"],correct:1,explanation:\"Performance feedback should be actively integrated with the company's performance management system for continuous improvement and alignment with company goals.\",type:\"Performance Integration\",ragSource:ragAnalysis?(_ragAnalysis$relevant5=ragAnalysis.relevantDocuments[1])===null||_ragAnalysis$relevant5===void 0?void 0:_ragAnalysis$relevant5.name:\"Performance_Guidelines.pdf\"},{question:`In a scenario where you encounter a safety concern not covered in standard procedures, what should be your immediate action according to ${setupConfig.company.name} policy?`,options:[\"A) Continue working and report it later\",\"B) Stop work and follow company incident reporting procedure\",\"C) Ask a coworker for advice\",\"D) Look up industry guidelines online\"],correct:1,explanation:`${setupConfig.company.name} policy requires immediate work stoppage and following the company's specific incident reporting procedure to ensure safety and proper documentation.`,type:\"Scenario-Based\",ragSource:\"Emergency_Procedures.docx\"},{question:`When updating documentation according to ${setupConfig.company.name} quality standards, which system should be used?`,options:[\"A) Any available documentation system\",\"B) Company's designated quality management system\",\"C) Personal notes and records\",\"D) Industry standard formats\"],correct:1,explanation:\"Company quality standards require all documentation to be maintained in the designated quality management system to ensure consistency and compliance.\",type:\"Quality Control\",ragSource:ragAnalysis?(_ragAnalysis$relevant6=ragAnalysis.relevantDocuments[2])===null||_ragAnalysis$relevant6===void 0?void 0:_ragAnalysis$relevant6.name:\"Quality_Standards.pdf\"},{question:`How should training progress be tracked according to your individual development plan?`,options:[\"A) Self-assessment only\",\"B) Through company's training management system with supervisor oversight\",\"C) Informal discussion with peers\",\"D) Annual review process only\"],correct:1,explanation:\"Training progress must be tracked through the company's training management system with regular supervisor oversight to ensure proper development and compliance.\",type:\"Training Management\",ragSource:\"Training_Policy.pdf\"}].slice(0,((_trainingData$quizCon=trainingData.quizConfig)===null||_trainingData$quizCon===void 0?void 0:_trainingData$quizCon.questionCount)||5),ragAnalysis:ragAnalysis};setGeneratedTraining(mockResponse);setCurrentView('review');}catch(error){alert('Error generating training. Please check your configuration and try again.');}finally{setIsGenerating(false);}};const addNewEmployee=()=>{if(newEmployee.name&&newEmployee.department&&newEmployee.position){const employeeId=employees.length+1;const newEmp={id:employeeId,...newEmployee,role:'employee',supervisor:currentUser===null||currentUser===void 0?void 0:currentUser.name,completedTrainings:0,totalTrainings:0,lastTraining:null,performance:null,certifications:[],trainingHistory:[],recommendedTrainings:[{title:'Company Orientation',reason:'New employee onboarding',priority:'high'},{title:'Safety Fundamentals',reason:'Required for all new hires',priority:'high'},{title:`${newEmployee.department} Basics`,reason:'Department-specific training',priority:'high'}]};setEmployees([...employees,newEmp]);setNewEmployee({name:'',department:'',position:'',email:'',hireDate:'',directSupervisor:'',preferredLanguage:'en'});setShowAddEmployee(false);}};const handleFileUpload=e=>{const files=Array.from(e.target.files);setTrainingData(prev=>({...prev,documents:[...prev.documents,...files.map(file=>({name:file.name,size:file.size,type:file.type,file:file}))]}));};const startQuiz=()=>{setCurrentView('quiz');setCurrentQuestionIndex(0);setUserAnswers({});setQuizResults(null);};const handleAnswerSelect=(questionIndex,answerIndex)=>{setUserAnswers(prev=>({...prev,[questionIndex]:answerIndex}));};const submitQuiz=()=>{var _trainingData$quizCon2;const results=generatedTraining.quiz.map((question,index)=>({question:question.question,userAnswer:userAnswers[index],correctAnswer:question.correct,isCorrect:userAnswers[index]===question.correct,explanation:question.explanation}));const score=results.filter(r=>r.isCorrect).length;const percentage=Math.round(score/results.length*100);setQuizResults({results,score,total:results.length,percentage,passed:percentage>=(((_trainingData$quizCon2=trainingData.quizConfig)===null||_trainingData$quizCon2===void 0?void 0:_trainingData$quizCon2.passingScore)||80)});setCurrentView('results');};const getDashboardStats=()=>{const totalEmployees=employees.length;const avgCompletion=employees.reduce((acc,emp)=>acc+(emp.totalTrainings>0?emp.completedTrainings/emp.totalTrainings*100:0),0)/totalEmployees;const activeTrainings=employees.reduce((acc,emp)=>acc+(emp.totalTrainings-emp.completedTrainings),0);const avgPerformance=employees.filter(emp=>emp.performance).reduce((acc,emp)=>acc+emp.performance,0)/employees.filter(emp=>emp.performance).length;return{totalEmployees,avgCompletion:Math.round(avgCompletion),activeTrainings,avgPerformance:Math.round(avgPerformance||0)};};const stats=getDashboardStats();const completedSetup=setupStep==='complete';const filteredEmployees=filterDepartment==='all'?employees:employees.filter(emp=>emp.department===filterDepartment);return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white shadow-sm border-b\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center py-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(Brain,{className:\"h-8 w-8 text-blue-600\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900\",children:\"Line Smart\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Enterprise RAG-Powered Training Platform\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[completedSetup&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-500\",children:[setupConfig.company.name,\" \\u2022 \",currentUser===null||currentUser===void 0?void 0:currentUser.name,\" (\",currentUser===null||currentUser===void 0?void 0:currentUser.role,\")\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-blue-600\",children:[setupConfig.aiModels.primary,\" \\u2022 RAG Enabled \\u2022 \",getLanguageName(setupConfig.company.defaultLanguage)]})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setCurrentView('setup'),className:\"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Settings,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Setup\"})]})]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:[currentView==='setup'&&/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:\"Platform Setup\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-500\",children:[\"Step \",['welcome','company','ai-models','data-source','onboarding','complete'].indexOf(setupStep)+1,\" of 6\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-600 h-2 rounded-full transition-all duration-300\",style:{width:`${(['welcome','company','ai-models','data-source','onboarding','complete'].indexOf(setupStep)+1)/6*100}%`}})})]}),setupStep==='welcome'&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-sm border p-8 text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(Bot,{className:\"h-16 w-16 text-blue-600 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold text-gray-900 mb-2\",children:\"Welcome to Line Smart\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 max-w-2xl mx-auto\",children:\"Set up your enterprise AI-powered training platform with RAG (Retrieval Augmented Generation) capabilities. We'll help you configure AI models, connect to your data sources, and create personalized training experiences for your entire organization.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 p-6 rounded-lg\",children:[/*#__PURE__*/_jsx(Brain,{className:\"h-8 w-8 text-blue-600 mb-3 mx-auto\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-blue-900 mb-2\",children:\"AI Integration\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-blue-800\",children:\"Connect multiple AI models for diverse training generation\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-50 p-6 rounded-lg\",children:[/*#__PURE__*/_jsx(Database,{className:\"h-8 w-8 text-green-600 mb-3 mx-auto\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-green-900 mb-2\",children:\"RAG System\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-green-800\",children:\"Use your company data to create contextual training\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-purple-50 p-6 rounded-lg\",children:[/*#__PURE__*/_jsx(Users,{className:\"h-8 w-8 text-purple-600 mb-3 mx-auto\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-purple-900 mb-2\",children:\"Individual Tracking\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-purple-800\",children:\"Personalized learning paths for every employee\"})]})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleSetupNext,className:\"px-8 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center space-x-2 mx-auto\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Get Started\"}),/*#__PURE__*/_jsx(GitBranch,{className:\"h-4 w-4\"})]})]}),setupStep==='company'&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-sm border p-8\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-xl font-semibold mb-6 flex items-center\",children:[/*#__PURE__*/_jsx(Building,{className:\"h-5 w-5 mr-2 text-blue-600\"}),\"Company Configuration\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Company Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:setupConfig.company.name,onChange:e=>setSetupConfig(prev=>({...prev,company:{...prev.company,name:e.target.value}})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",placeholder:\"Enter your company name\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Industry\"}),/*#__PURE__*/_jsxs(\"select\",{value:setupConfig.company.industry,onChange:e=>{setSetupConfig(prev=>({...prev,company:{...prev.company,industry:e.target.value}}));if(setupConfig.company.name&&e.target.value){generateCompanyConfig(setupConfig.company.name,e.target.value);}},className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Industry\"}),industries.map(industry=>/*#__PURE__*/_jsx(\"option\",{value:industry,children:industry},industry))]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Company Size\"}),/*#__PURE__*/_jsxs(\"select\",{value:setupConfig.company.size,onChange:e=>setSetupConfig(prev=>({...prev,company:{...prev.company,size:e.target.value}})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Company Size\"}),companySizes.map(size=>/*#__PURE__*/_jsx(\"option\",{value:size,children:size},size))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Default Company Language\"}),/*#__PURE__*/_jsx(\"select\",{value:setupConfig.company.defaultLanguage,onChange:e=>setSetupConfig(prev=>({...prev,company:{...prev.company,defaultLanguage:e.target.value}})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",children:languages.map(lang=>/*#__PURE__*/_jsxs(\"option\",{value:lang.code,children:[lang.flag,\" \",lang.name]},lang.code))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Additional Supported Languages\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 md:grid-cols-3 gap-3\",children:languages.filter(lang=>lang.code!==setupConfig.company.defaultLanguage).map(lang=>/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:setupConfig.company.supportedLanguages.includes(lang.code),onChange:e=>{const languagesArray=e.target.checked?[...setupConfig.company.supportedLanguages,lang.code]:setupConfig.company.supportedLanguages.filter(l=>l!==lang.code);setSetupConfig(prev=>({...prev,company:{...prev.company,supportedLanguages:languagesArray}}));},className:\"rounded border-gray-300 text-blue-600 focus:ring-blue-500\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-700\",children:[lang.flag,\" \",lang.name]})]},lang.code))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:[\"Departments\",setupConfig.company.industry&&/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-blue-600 ml-2\",children:\"(AI-suggested based on industry)\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 md:grid-cols-3 gap-3 mb-3\",children:standardDepartments.map(dept=>/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:setupConfig.company.departments.includes(dept),onChange:e=>{const departments=e.target.checked?[...setupConfig.company.departments,dept]:setupConfig.company.departments.filter(d=>d!==dept);setSetupConfig(prev=>({...prev,company:{...prev.company,departments}}));},className:\"rounded border-gray-300 text-blue-600 focus:ring-blue-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:dept})]},dept))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Safety & Compliance Requirements\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 md:grid-cols-3 gap-3\",children:safetyRequirements.map(req=>/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:setupConfig.company.safetyRequirements.includes(req),onChange:e=>{const requirements=e.target.checked?[...setupConfig.company.safetyRequirements,req]:setupConfig.company.safetyRequirements.filter(r=>r!==req);setSetupConfig(prev=>({...prev,company:{...prev.company,safetyRequirements:requirements}}));},className:\"rounded border-gray-300 text-blue-600 focus:ring-blue-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:req})]},req))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between mt-8\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleSetupPrev,className:\"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50\",children:\"Previous\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSetupNext,disabled:!setupConfig.company.name||!setupConfig.company.industry,className:\"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-300\",children:\"Next\"})]})]}),setupStep==='ai-models'&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-sm border p-8\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-xl font-semibold mb-6 flex items-center\",children:[/*#__PURE__*/_jsx(Brain,{className:\"h-5 w-5 mr-2 text-blue-600\"}),\"AI Model Configuration\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-8\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-4\",children:\"Select Primary AI Model\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:aiModels.map(model=>/*#__PURE__*/_jsxs(\"div\",{onClick:()=>setSetupConfig(prev=>({...prev,aiModels:{...prev.aiModels,primary:model.id}})),className:`p-4 border rounded-lg cursor-pointer transition-colors ${setupConfig.aiModels.primary===model.id?'border-blue-500 bg-blue-50':'border-gray-300 hover:border-gray-400'}`,children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-900 mb-2\",children:model.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:model.description})]},model.id))})]}),setupConfig.aiModels.primary&&/*#__PURE__*/_jsxs(\"div\",{className:\"border-t pt-6\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-lg font-medium mb-4\",children:[\"Configure \",(_aiModels$find=aiModels.find(m=>m.id===setupConfig.aiModels.primary))===null||_aiModels$find===void 0?void 0:_aiModels$find.name]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"API Key\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:((_setupConfig$aiModels=setupConfig.aiModels.configs[setupConfig.aiModels.primary])===null||_setupConfig$aiModels===void 0?void 0:_setupConfig$aiModels.apiKey)||'',onChange:e=>setSetupConfig(prev=>({...prev,aiModels:{...prev.aiModels,configs:{...prev.aiModels.configs,[setupConfig.aiModels.primary]:{...prev.aiModels.configs[setupConfig.aiModels.primary],apiKey:e.target.value}}}})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",placeholder:\"Enter API key\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Model Version\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:((_setupConfig$aiModels2=setupConfig.aiModels.configs[setupConfig.aiModels.primary])===null||_setupConfig$aiModels2===void 0?void 0:_setupConfig$aiModels2.model)||'',onChange:e=>setSetupConfig(prev=>({...prev,aiModels:{...prev.aiModels,configs:{...prev.aiModels.configs,[setupConfig.aiModels.primary]:{...prev.aiModels.configs[setupConfig.aiModels.primary],model:e.target.value}}}})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",placeholder:\"e.g., gpt-4, claude-3-sonnet\"})]})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>testConnection(setupConfig.aiModels.primary,setupConfig.aiModels.configs[setupConfig.aiModels.primary]),className:\"mt-4 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Zap,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Test Connection\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between mt-8\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleSetupPrev,className:\"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50\",children:\"Previous\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSetupNext,disabled:!setupConfig.aiModels.primary,className:\"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-300\",children:\"Next\"})]})]}),setupStep==='data-source'&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-sm border p-8\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-xl font-semibold mb-6 flex items-center\",children:[/*#__PURE__*/_jsx(Database,{className:\"h-5 w-5 mr-2 text-blue-600\"}),\"Data Source & RAG Configuration\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-8\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-4\",children:\"Select Data Source for RAG\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\",children:dataSourceTypes.map(source=>/*#__PURE__*/_jsxs(\"div\",{onClick:()=>setSetupConfig(prev=>({...prev,dataSource:{...prev.dataSource,type:source.id}})),className:`p-4 border rounded-lg cursor-pointer transition-colors ${setupConfig.dataSource.type===source.id?'border-blue-500 bg-blue-50':'border-gray-300 hover:border-gray-400'}`,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 mb-2\",children:[source.icon,/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-900\",children:source.name})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:source.description})]},source.id))})]}),setupConfig.dataSource.type==='googleDrive'&&/*#__PURE__*/_jsxs(\"div\",{className:\"border-t pt-6\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-medium mb-4\",children:\"Google Drive Configuration\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Folder ID or Shared Drive ID\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:setupConfig.dataSource.config.googleDrive.folderId,onChange:e=>setSetupConfig(prev=>({...prev,dataSource:{...prev.dataSource,config:{...prev.dataSource.config,googleDrive:{...prev.dataSource.config.googleDrive,folderId:e.target.value}}}})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",placeholder:\"1BxiMVs0XRA5nFMdKvBdBZjgmUUqptlbs74OgvE2upms\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-t pt-6\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-medium mb-4\",children:\"RAG System Settings\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Chunk Size\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:setupConfig.dataSource.ragSettings.chunkSize,onChange:e=>setSetupConfig(prev=>({...prev,dataSource:{...prev.dataSource,ragSettings:{...prev.dataSource.ragSettings,chunkSize:parseInt(e.target.value)}}})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",placeholder:\"1000\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Overlap\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:setupConfig.dataSource.ragSettings.overlap,onChange:e=>setSetupConfig(prev=>({...prev,dataSource:{...prev.dataSource,ragSettings:{...prev.dataSource.ragSettings,overlap:parseInt(e.target.value)}}})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",placeholder:\"200\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Vector Store\"}),/*#__PURE__*/_jsxs(\"select\",{value:setupConfig.dataSource.ragSettings.vectorStore,onChange:e=>setSetupConfig(prev=>({...prev,dataSource:{...prev.dataSource,ragSettings:{...prev.dataSource.ragSettings,vectorStore:e.target.value}}})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"chromadb\",children:\"ChromaDB\"}),/*#__PURE__*/_jsx(\"option\",{value:\"pinecone\",children:\"Pinecone\"}),/*#__PURE__*/_jsx(\"option\",{value:\"weaviate\",children:\"Weaviate\"}),/*#__PURE__*/_jsx(\"option\",{value:\"qdrant\",children:\"Qdrant\"})]})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between mt-8\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleSetupPrev,className:\"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50\",children:\"Previous\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSetupNext,disabled:!setupConfig.dataSource.type,className:\"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-300\",children:\"Next\"})]})]}),setupStep==='onboarding'&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-sm border p-8\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-xl font-semibold mb-6 flex items-center\",children:[/*#__PURE__*/_jsx(UserPlus,{className:\"h-5 w-5 mr-2 text-blue-600\"}),\"Onboarding Configuration\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Default Onboarding Trainings\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-3\",children:trainingTypes.map(type=>/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:setupConfig.onboarding.defaultTrainings.includes(type),onChange:e=>{const trainings=e.target.checked?[...setupConfig.onboarding.defaultTrainings,type]:setupConfig.onboarding.defaultTrainings.filter(t=>t!==type);setSetupConfig(prev=>({...prev,onboarding:{...prev.onboarding,defaultTrainings:trainings}}));},className:\"rounded border-gray-300 text-blue-600 focus:ring-blue-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:type})]},type))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Probation Period (Days)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:setupConfig.onboarding.probationPeriod,onChange:e=>setSetupConfig(prev=>({...prev,onboarding:{...prev.onboarding,probationPeriod:parseInt(e.target.value)}})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",placeholder:\"90\"})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:setupConfig.onboarding.mentorAssignment,onChange:e=>setSetupConfig(prev=>({...prev,onboarding:{...prev.onboarding,mentorAssignment:e.target.checked}})),className:\"rounded border-gray-300 text-blue-600 focus:ring-blue-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-700\",children:\"Automatic Mentor Assignment\"})]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between mt-8\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleSetupPrev,className:\"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50\",children:\"Previous\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSetupNext,className:\"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\",children:\"Complete Setup\"})]})]}),setupStep==='complete'&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-sm border p-8 text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(CheckCircle,{className:\"h-16 w-16 text-green-600 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold text-gray-900 mb-2\",children:\"Setup Complete!\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 max-w-2xl mx-auto\",children:\"Your Line Smart platform is now configured and ready to use. Your company data will be processed for RAG-powered training generation, and supervisors can create personalized training experiences.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-semibold text-blue-900 mb-2\",children:[\"Company: \",setupConfig.company.name]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-blue-800\",children:[setupConfig.company.industry,\" \\u2022 \",setupConfig.company.size]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-semibold text-green-900 mb-2\",children:[\"AI Model: \",setupConfig.aiModels.primary]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-green-800\",children:[\"RAG Enabled with \",setupConfig.dataSource.type]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-purple-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-semibold text-purple-900 mb-2\",children:[\"Languages: \",setupConfig.company.supportedLanguages.length+1]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-purple-800\",children:\"Multi-language support enabled\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setCurrentView('dashboard'),className:\"px-8 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Users,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Go to Dashboard\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setCurrentView('create'),className:\"px-8 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Plus,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Create Training\"})]})]})]})]}),currentView!=='setup'&&completedSetup&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-1 bg-gray-100 p-1 rounded-lg mb-8 w-fit\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setCurrentView('dashboard'),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${currentView==='dashboard'?'bg-white text-blue-600 shadow-sm':'text-gray-600 hover:text-gray-900'}`,children:[/*#__PURE__*/_jsx(Users,{className:\"h-4 w-4 inline mr-2\"}),\"Employee Dashboard\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setCurrentView('create'),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${currentView==='create'?'bg-white text-blue-600 shadow-sm':'text-gray-600 hover:text-gray-900'}`,children:[/*#__PURE__*/_jsx(Plus,{className:\"h-4 w-4 inline mr-2\"}),\"Create Training\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowRAGManager(true),className:\"px-4 py-2 rounded-lg text-sm font-medium transition-colors text-gray-600 hover:text-gray-900 hover:bg-white\",children:[/*#__PURE__*/_jsx(Database,{className:\"h-4 w-4 inline mr-2\"}),\"RAG Documents\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setCurrentView('quiz'),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${currentView==='quiz'?'bg-white text-blue-600 shadow-sm':'text-gray-600 hover:text-gray-900'} ${!generatedTraining?'opacity-50 cursor-not-allowed':''}`,disabled:!generatedTraining,children:[/*#__PURE__*/_jsx(Award,{className:\"h-4 w-4 inline mr-2\"}),\"Take Quiz\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setCurrentView('review'),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${currentView==='review'?'bg-white text-blue-600 shadow-sm':'text-gray-600 hover:text-gray-900'} ${!generatedTraining?'opacity-50 cursor-not-allowed':''}`,disabled:!generatedTraining,children:[/*#__PURE__*/_jsx(Eye,{className:\"h-4 w-4 inline mr-2\"}),\"Review Training\"]})]}),currentView==='dashboard'&&completedSetup&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-6 rounded-xl shadow-sm border\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Total Employees\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:stats.totalEmployees})]}),/*#__PURE__*/_jsx(Users,{className:\"h-8 w-8 text-blue-600\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-6 rounded-xl shadow-sm border\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Avg. Completion\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:[stats.avgCompletion,\"%\"]})]}),/*#__PURE__*/_jsx(Target,{className:\"h-8 w-8 text-green-600\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-6 rounded-xl shadow-sm border\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Active Trainings\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:stats.activeTrainings})]}),/*#__PURE__*/_jsx(BookOpen,{className:\"h-8 w-8 text-orange-600\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-6 rounded-xl shadow-sm border\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Avg. Performance\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:[stats.avgPerformance,\"%\"]})]}),/*#__PURE__*/_jsx(TrendingUp,{className:\"h-8 w-8 text-purple-600\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-sm border p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold\",children:\"Supervised Employee Management\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowAddEmployee(true),className:\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(UserPlus,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Add Employee\"})]}),/*#__PURE__*/_jsxs(\"select\",{value:filterDepartment,onChange:e=>setFilterDepartment(e.target.value),className:\"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"All Departments\"}),standardDepartments.map(dept=>/*#__PURE__*/_jsx(\"option\",{value:dept,children:dept},dept))]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:filteredEmployees.map(employee=>/*#__PURE__*/_jsxs(\"div\",{className:\"border rounded-lg p-4 hover:shadow-md transition-shadow\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-gray-900\",children:employee.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:employee.position}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:employee.department}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 mt-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs bg-gray-100 px-2 py-1 rounded\",children:getLanguageName(employee.preferredLanguage)}),employee.role==='supervisor'&&/*#__PURE__*/_jsx(\"span\",{className:\"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded\",children:\"Supervisor\"})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedEmployee(employee),className:\"text-blue-600 hover:text-blue-800\",children:/*#__PURE__*/_jsx(Edit3,{className:\"h-4 w-4\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Training Progress\"}),/*#__PURE__*/_jsxs(\"span\",{children:[employee.completedTrainings,\"/\",employee.totalTrainings]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-600 h-2 rounded-full\",style:{width:`${employee.totalTrainings>0?employee.completedTrainings/employee.totalTrainings*100:0}%`}})}),employee.performance&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Performance\"}),/*#__PURE__*/_jsxs(\"span\",{className:`font-medium ${employee.performance>=90?'text-green-600':employee.performance>=80?'text-yellow-600':'text-red-600'}`,children:[employee.performance,\"%\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-gray-700\",children:\"Recommended Trainings:\"}),employee.recommendedTrainings.slice(0,2).map((rec,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs bg-gray-50 p-2 rounded\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:rec.title}),/*#__PURE__*/_jsx(\"span\",{className:`px-2 py-1 rounded text-xs ${rec.priority==='high'?'bg-red-100 text-red-800':rec.priority==='medium'?'bg-yellow-100 text-yellow-800':'bg-green-100 text-green-800'}`,children:rec.priority})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-1\",children:rec.reason})]},index))]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 pt-4 border-t\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setSelectedEmployee(employee);setCurrentView('create');},className:\"w-full py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm\",children:\"Assign Training\"})})]},employee.id))})]})]}),currentView==='create'&&completedSetup&&/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-3 gap-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"lg:col-span-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-sm border p-6\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-semibold mb-6 flex items-center\",children:[/*#__PURE__*/_jsx(FileText,{className:\"h-5 w-5 mr-2 text-blue-600\"}),\"Supervisor Training Development\",/*#__PURE__*/_jsxs(\"span\",{className:\"ml-3 text-sm text-gray-500\",children:[\"(\",currentUser===null||currentUser===void 0?void 0:currentUser.name,\" - \",currentUser===null||currentUser===void 0?void 0:currentUser.department,\")\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 p-4 rounded-lg mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium text-blue-900 mb-3\",children:\"Training Scope\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-3\",children:[/*#__PURE__*/_jsxs(\"label\",{className:`flex items-center p-3 border rounded-lg cursor-pointer transition-colors ${trainingData.trainingScope==='individual'?'border-blue-500 bg-blue-100':'border-gray-300'}`,children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"trainingScope\",value:\"individual\",checked:trainingData.trainingScope==='individual',onChange:e=>setTrainingData(prev=>({...prev,trainingScope:e.target.value})),className:\"sr-only\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center w-full\",children:[/*#__PURE__*/_jsx(Users,{className:\"h-5 w-5 mx-auto mb-1 text-blue-600\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:\"Individual Employee\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600 mt-1\",children:\"Assign to specific employees\"})]})]}),/*#__PURE__*/_jsxs(\"label\",{className:`flex items-center p-3 border rounded-lg cursor-pointer transition-colors ${trainingData.trainingScope==='department'?'border-blue-500 bg-blue-100':'border-gray-300'}`,children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"trainingScope\",value:\"department\",checked:trainingData.trainingScope==='department',onChange:e=>setTrainingData(prev=>({...prev,trainingScope:e.target.value})),className:\"sr-only\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center w-full\",children:[/*#__PURE__*/_jsx(Building,{className:\"h-5 w-5 mx-auto mb-1 text-blue-600\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:\"Department Wide\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-600 mt-1\",children:[\"All \",currentUserDepartment,\" employees\"]})]})]}),/*#__PURE__*/_jsxs(\"label\",{className:`flex items-center p-3 border rounded-lg cursor-pointer transition-colors ${trainingData.trainingScope==='company'?'border-blue-500 bg-blue-100':'border-gray-300'}`,children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"trainingScope\",value:\"company\",checked:trainingData.trainingScope==='company',onChange:e=>setTrainingData(prev=>({...prev,trainingScope:e.target.value})),className:\"sr-only\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center w-full\",children:[/*#__PURE__*/_jsx(Globe,{className:\"h-5 w-5 mx-auto mb-1 text-blue-600\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:\"Company Wide\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600 mt-1\",children:\"All employees (requires approval)\"})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 p-4 rounded-lg mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-3\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"font-medium text-blue-900 flex items-center\",children:[/*#__PURE__*/_jsx(FileSearch,{className:\"h-4 w-4 mr-2\"}),\"RAG Analysis\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>analyzeTrainingWithRAG(selectedEmployee,trainingData.trainingType),disabled:isAnalyzing||!trainingData.trainingType,className:\"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 disabled:bg-gray-300 flex items-center space-x-1\",children:isAnalyzing?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin h-3 w-3 border border-white border-t-transparent rounded-full\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Analyzing...\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Search,{className:\"h-3 w-3\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Analyze\"})]})})]}),ragAnalysis?/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-blue-800 mb-1\",children:\"Relevant Documents Found:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-2\",children:ragAnalysis.relevantDocuments.map((doc,index)=>/*#__PURE__*/_jsxs(\"span\",{className:\"px-2 py-1 bg-white text-blue-700 rounded text-xs\",children:[doc.name,\" (\",Math.round(doc.relevance*100),\"%)\"]},index))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-blue-800 mb-1\",children:\"Key Insights:\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"text-sm text-blue-700 space-y-1\",children:ragAnalysis.suggestedContent.slice(0,2).map((insight,index)=>/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"mr-2\",children:\"\\u2022\"}),/*#__PURE__*/_jsx(\"span\",{children:insight})]},index))})]})]}):/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-blue-700\",children:\"Click \\\"Analyze\\\" to scan your company documents for relevant training content.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Training Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:trainingData.title,onChange:e=>setTrainingData(prev=>({...prev,title:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",placeholder:\"e.g., Equipment Safety Training\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Training Language\"}),/*#__PURE__*/_jsx(\"select\",{value:trainingData.language,onChange:e=>setTrainingData(prev=>({...prev,language:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",children:languages.map(lang=>/*#__PURE__*/_jsxs(\"option\",{value:lang.code,children:[lang.flag,\" \",lang.name]},lang.code))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Department\"}),/*#__PURE__*/_jsxs(\"select\",{value:trainingData.department,onChange:e=>setTrainingData(prev=>({...prev,department:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Department\"}),trainingData.trainingScope==='department'?/*#__PURE__*/_jsx(\"option\",{value:currentUserDepartment,children:currentUserDepartment}):standardDepartments.map(dept=>/*#__PURE__*/_jsx(\"option\",{value:dept,children:dept},dept))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Training Type\"}),/*#__PURE__*/_jsxs(\"select\",{value:trainingData.trainingType,onChange:e=>setTrainingData(prev=>({...prev,trainingType:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Training Type\"}),trainingTypes.map(type=>/*#__PURE__*/_jsx(\"option\",{value:type,children:type},type))]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Due Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:trainingData.dueDate,onChange:e=>setTrainingData(prev=>({...prev,dueDate:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"AI Model\"}),/*#__PURE__*/_jsxs(\"select\",{value:trainingData.aiModel,onChange:e=>setTrainingData(prev=>({...prev,aiModel:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",children:[/*#__PURE__*/_jsxs(\"option\",{value:\"primary\",children:[\"Primary (\",setupConfig.aiModels.primary,\")\"]}),/*#__PURE__*/_jsx(\"option\",{value:\"secondary\",children:\"Secondary Model\"})]})]})]}),trainingData.trainingScope==='individual'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:[\"Assign to Employees\",/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-blue-600 ml-2\",children:\"(Showing your supervised employees and language preferences)\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"max-h-40 overflow-y-auto border border-gray-300 rounded-lg p-3\",children:supervisedEmployees.length>0?supervisedEmployees.map(employee=>/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center justify-between py-2 border-b border-gray-100 last:border-b-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:trainingData.assignedEmployees.includes(employee.id),onChange:e=>{if(e.target.checked){setTrainingData(prev=>({...prev,assignedEmployees:[...prev.assignedEmployees,employee.id]}));}else{setTrainingData(prev=>({...prev,assignedEmployees:prev.assignedEmployees.filter(id=>id!==employee.id)}));}},className:\"rounded border-gray-300 text-blue-600 focus:ring-blue-500\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-900\",children:employee.name}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs text-gray-500 ml-2\",children:[\"(\",employee.department,\" - \",employee.position,\")\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs bg-gray-100 px-2 py-1 rounded\",children:getLanguageName(employee.preferredLanguage)}),employee.preferredLanguage!==trainingData.language&&/*#__PURE__*/_jsx(\"span\",{className:\"text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded\",children:\"\\u26A0\\uFE0F Language mismatch\"})]})]},employee.id)):/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 text-center py-4\",children:\"No supervised employees found. Contact admin to assign employees to your supervision.\"})}),selectedEmployee&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-blue-600 mt-2\",children:[\"Pre-selected: \",selectedEmployee.name,\" (\",getLanguageName(selectedEmployee.preferredLanguage),\")\"]})]}),trainingData.trainingScope==='department'&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-green-900 mb-2\",children:\"Department-Wide Training\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-green-800 mb-3\",children:[\"This training will be assigned to all employees in the \",currentUserDepartment,\" department.\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-green-700\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"font-medium mb-1\",children:[\"Target Employees (\",employees.filter(emp=>emp.department===currentUserDepartment).length,\"):\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-1\",children:employees.filter(emp=>emp.department===currentUserDepartment).map(emp=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[emp.name,\" - \",emp.position]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs bg-white px-2 py-1 rounded\",children:getLanguageName(emp.preferredLanguage)})]},emp.id))})]})]}),trainingData.trainingScope==='company'&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-yellow-50 p-4 rounded-lg border border-yellow-200\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-yellow-900 mb-2\",children:\"\\u26A0\\uFE0F Company-Wide Training\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-yellow-800 mb-3\",children:\"This training will be assigned to all employees across all departments and will require management approval.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-yellow-700\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"font-medium mb-1\",children:[\"Total Employees: \",employees.length]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs\",children:[\"Languages needed: \",[...new Set(employees.map(emp=>emp.preferredLanguage))].map(lang=>getLanguageName(lang)).join(', ')]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Training Description\"}),/*#__PURE__*/_jsx(\"textarea\",{value:trainingData.description,onChange:e=>setTrainingData(prev=>({...prev,description:e.target.value})),rows:3,className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",placeholder:\"Provide specific details about individual requirements and expectations...\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Individual Learning Objectives\"}),/*#__PURE__*/_jsx(\"textarea\",{value:trainingData.objectives,onChange:e=>setTrainingData(prev=>({...prev,objectives:e.target.value})),rows:3,className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",placeholder:\"What should each assigned employee be able to do after completing this training?\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Supporting Documents\"}),/*#__PURE__*/_jsxs(\"div\",{onClick:()=>{var _fileInputRef$current;return(_fileInputRef$current=fileInputRef.current)===null||_fileInputRef$current===void 0?void 0:_fileInputRef$current.click();},className:\"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-blue-400 transition-colors cursor-pointer\",children:[/*#__PURE__*/_jsx(Upload,{className:\"h-8 w-8 text-gray-400 mx-auto mb-2\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Upload employee-specific documents, procedures, and materials\"})]}),/*#__PURE__*/_jsx(\"input\",{ref:fileInputRef,type:\"file\",multiple:true,accept:\".pdf,.doc,.docx,.txt\",onChange:handleFileUpload,className:\"hidden\"}),trainingData.documents.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 space-y-2\",children:trainingData.documents.map((doc,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between bg-gray-50 p-3 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(FileText,{className:\"h-4 w-4 text-blue-600 mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:doc.name})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setTrainingData(prev=>({...prev,documents:prev.documents.filter((_,i)=>i!==index)})),className:\"text-red-500 hover:text-red-700 text-sm\",children:\"Remove\"})]},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-t pt-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-medium mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(CheckCircle,{className:\"h-5 w-5 mr-2 text-green-600\"}),\"Automated Quiz Generation\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-50 p-4 rounded-lg mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-green-800 mb-1\",children:\"Quiz Questions\"}),/*#__PURE__*/_jsxs(\"select\",{value:((_trainingData$quizCon3=trainingData.quizConfig)===null||_trainingData$quizCon3===void 0?void 0:_trainingData$quizCon3.questionCount)||5,onChange:e=>setTrainingData(prev=>({...prev,quizConfig:{...prev.quizConfig,questionCount:parseInt(e.target.value)}})),className:\"w-full px-3 py-1 border border-green-300 rounded text-sm focus:ring-2 focus:ring-green-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:3,children:\"3 Questions\"}),/*#__PURE__*/_jsx(\"option\",{value:5,children:\"5 Questions\"}),/*#__PURE__*/_jsx(\"option\",{value:7,children:\"7 Questions\"}),/*#__PURE__*/_jsx(\"option\",{value:10,children:\"10 Questions\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-green-800 mb-1\",children:\"Passing Score\"}),/*#__PURE__*/_jsxs(\"select\",{value:((_trainingData$quizCon4=trainingData.quizConfig)===null||_trainingData$quizCon4===void 0?void 0:_trainingData$quizCon4.passingScore)||80,onChange:e=>setTrainingData(prev=>({...prev,quizConfig:{...prev.quizConfig,passingScore:parseInt(e.target.value)}})),className:\"w-full px-3 py-1 border border-green-300 rounded text-sm focus:ring-2 focus:ring-green-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:70,children:\"70%\"}),/*#__PURE__*/_jsx(\"option\",{value:80,children:\"80%\"}),/*#__PURE__*/_jsx(\"option\",{value:90,children:\"90%\"}),/*#__PURE__*/_jsx(\"option\",{value:100,children:\"100%\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-green-800 mb-1\",children:\"Question Style\"}),/*#__PURE__*/_jsxs(\"select\",{value:((_trainingData$quizCon5=trainingData.quizConfig)===null||_trainingData$quizCon5===void 0?void 0:_trainingData$quizCon5.style)||'mixed',onChange:e=>setTrainingData(prev=>({...prev,quizConfig:{...prev.quizConfig,style:e.target.value}})),className:\"w-full px-3 py-1 border border-green-300 rounded text-sm focus:ring-2 focus:ring-green-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"mixed\",children:\"Mixed (Multiple Choice + Scenario)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"multiple-choice\",children:\"Multiple Choice Only\"}),/*#__PURE__*/_jsx(\"option\",{value:\"scenario\",children:\"Scenario-Based\"}),/*#__PURE__*/_jsx(\"option\",{value:\"company-specific\",children:\"Company Policy Focus\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 text-sm text-green-800\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium mb-1\",children:\"\\u2705 Quiz Features Included:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u2022 Company-specific questions\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u2022 Instant feedback & explanations\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u2022 Performance tracking\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u2022 Retake capability\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u2022 Supervisor notifications\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u2022 Certification generation\"})]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-2 text-sm\",children:(()=>{const enabledModels=Object.entries(setupConfig.aiModels.configs).filter(_ref3=>{let[key,config]=_ref3;return config.apiKey&&key!=='llama';});if(enabledModels.length>0){const[modelName]=enabledModels[0];return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-green-500 rounded-full\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-blue-800\",children:[\"Will use your \",modelName.toUpperCase(),\" API \\u2022 Fallback: Free LLaMA\"]})]});}else{return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-blue-500 rounded-full\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-blue-800\",children:\"\\uD83E\\uDD99 Using free LLaMA API (no API key required)\"})]});}})()})}),/*#__PURE__*/_jsx(\"button\",{onClick:generateTraining,disabled:!trainingData.title||!trainingData.department||!trainingData.trainingType||trainingData.trainingScope==='individual'&&trainingData.assignedEmployees.length===0||isGenerating,className:\"w-full py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center justify-center space-x-2\",children:isGenerating?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Generating Training + Quiz...\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Brain,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Generate Training + Automated Quiz\"})]})})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-50 rounded-xl p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-green-900 mb-3\",children:\"\\uD83C\\uDFAF Supervisor Training Development\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3 text-sm text-green-800\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(CheckCircle,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Individual & department-wide training creation\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(CheckCircle,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Multi-language support (10+ languages)\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(CheckCircle,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Employee language preference matching\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(CheckCircle,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Supervised employee management\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(CheckCircle,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Company-wide training (with approval)\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-purple-50 rounded-xl p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-purple-900 mb-3\",children:\"\\uD83C\\uDF0D Multi-Language Training\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3 text-sm text-purple-800\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Current Language:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 bg-white rounded\",children:getLanguageName(trainingData.language)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium mb-1\",children:\"Supported Languages:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-1\",children:[languages.slice(0,5).map(lang=>/*#__PURE__*/_jsxs(\"span\",{className:\"px-2 py-1 bg-white rounded text-xs\",children:[lang.flag,\" \",lang.name]},lang.code)),/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 bg-white rounded text-xs\",children:\"+5 more\"})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 rounded-xl p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-blue-900 mb-3\",children:\"\\uD83E\\uDD16 RAG Features Active\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3 text-sm text-blue-800\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(CheckCircle,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Company document analysis\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(CheckCircle,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Performance-based recommendations\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(CheckCircle,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Multi-language policy integration\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(CheckCircle,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Cultural context adaptation\"})]})]})]}),ragAnalysis&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-yellow-50 rounded-xl p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-yellow-900 mb-3\",children:\"AI Recommendations\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:ragAnalysis.recommendedTrainings.map((rec,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-3 rounded border-l-4 border-yellow-400\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-yellow-900\",children:rec.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-yellow-800 mt-1\",children:rec.reason}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mt-2\",children:[/*#__PURE__*/_jsxs(\"span\",{className:`px-2 py-1 rounded text-xs ${rec.priority==='high'?'bg-red-100 text-red-800':rec.priority==='medium'?'bg-yellow-100 text-yellow-800':'bg-green-100 text-green-800'}`,children:[rec.priority,\" priority\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-600\",children:rec.estimatedDuration})]})]},index))})]})]})]}),currentView==='review'&&generatedTraining&&/*#__PURE__*/_jsx(\"div\",{className:\"max-w-4xl mx-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-sm border p-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:trainingData.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600\",children:[trainingData.department,\" \\u2022 \",trainingData.trainingType]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-blue-600 mt-1\",children:[\"Language: \",getLanguageName(trainingData.language),\" \\u2022 Scope: \",trainingData.trainingScope]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:startQuiz,className:\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Play,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Start Quiz\"})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Download,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Export\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold mb-3\",children:\"Introduction\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700 leading-relaxed\",children:generatedTraining.training.introduction})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-8\",children:generatedTraining.training.sections.map((section,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"border-l-4 border-blue-500 pl-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold mb-3\",children:section.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700 mb-4 leading-relaxed\",children:section.content}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-blue-900 mb-2\",children:\"Key Points:\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"list-disc list-inside space-y-1 text-blue-800\",children:section.keyPoints.map((point,pointIndex)=>/*#__PURE__*/_jsx(\"li\",{children:point},pointIndex))})]})]},index))}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8 bg-red-50 p-6 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-xl font-semibold text-red-900 mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"h-5 w-5 mr-2\"}),\"Individual Safety Responsibilities\"]}),/*#__PURE__*/_jsx(\"ul\",{className:\"list-disc list-inside space-y-2 text-red-800\",children:generatedTraining.training.safetyNotes.map((note,index)=>/*#__PURE__*/_jsx(\"li\",{children:note},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 bg-green-50 p-6 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-green-900 mb-4\",children:\"Personal Best Practices\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"list-disc list-inside space-y-2 text-green-800\",children:generatedTraining.training.bestPractices.map((practice,index)=>/*#__PURE__*/_jsx(\"li\",{children:practice},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 bg-yellow-50 p-6 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-yellow-900 mb-4\",children:\"Common Individual Mistakes to Avoid\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"list-disc list-inside space-y-2 text-yellow-800\",children:generatedTraining.training.commonMistakes.map((mistake,index)=>/*#__PURE__*/_jsx(\"li\",{children:mistake},index))})]})]})}),currentView==='quiz'&&generatedTraining&&/*#__PURE__*/_jsx(\"div\",{className:\"max-w-3xl mx-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-sm border p-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-6\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-2xl font-bold text-gray-900 flex items-center\",children:[/*#__PURE__*/_jsx(CheckCircle,{className:\"h-6 w-6 mr-2 text-green-600\"}),\"Knowledge Assessment Quiz\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-500\",children:[\"Question \",currentQuestionIndex+1,\" of \",generatedTraining.quiz.length]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-blue-600 mt-1\",children:[\"Passing Score: \",((_trainingData$quizCon6=trainingData.quizConfig)===null||_trainingData$quizCon6===void 0?void 0:_trainingData$quizCon6.passingScore)||80,\"%\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-2 mb-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-600 h-2 rounded-full transition-all duration-300\",style:{width:`${(currentQuestionIndex+1)/generatedTraining.quiz.length*100}%`}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"question-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"inline-block px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium\",children:generatedTraining.quiz[currentQuestionIndex].type||'Company Policy'}),generatedTraining.quiz[currentQuestionIndex].ragSource&&/*#__PURE__*/_jsxs(\"span\",{className:\"inline-block ml-2 px-3 py-1 bg-green-100 text-green-800 rounded-full text-xs\",children:[\"Source: \",generatedTraining.quiz[currentQuestionIndex].ragSource]})]}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium mb-6\",children:generatedTraining.quiz[currentQuestionIndex].question}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:generatedTraining.quiz[currentQuestionIndex].options.map((option,index)=>/*#__PURE__*/_jsxs(\"label\",{className:`block p-4 border rounded-lg cursor-pointer transition-colors ${userAnswers[currentQuestionIndex]===index?'border-blue-500 bg-blue-50':'border-gray-300 hover:border-gray-400'}`,children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:`question-${currentQuestionIndex}`,value:index,checked:userAnswers[currentQuestionIndex]===index,onChange:()=>handleAnswerSelect(currentQuestionIndex,index),className:\"sr-only\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-700\",children:option})]},index))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentQuestionIndex(Math.max(0,currentQuestionIndex-1)),disabled:currentQuestionIndex===0,className:\"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\",children:\"Previous\"}),currentQuestionIndex===generatedTraining.quiz.length-1?/*#__PURE__*/_jsxs(\"button\",{onClick:submitQuiz,disabled:Object.keys(userAnswers).length!==generatedTraining.quiz.length,className:\"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Award,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Submit Quiz\"})]}):/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentQuestionIndex(Math.min(generatedTraining.quiz.length-1,currentQuestionIndex+1)),className:\"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\",children:\"Next\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8 bg-yellow-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-yellow-900 mb-2\",children:\"Quiz Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-yellow-800\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Questions:\"}),\" \",generatedTraining.quiz.length]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Passing Score:\"}),\" \",((_trainingData$quizCon7=trainingData.quizConfig)===null||_trainingData$quizCon7===void 0?void 0:_trainingData$quizCon7.passingScore)||80,\"%\"]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Retakes:\"}),\" Unlimited\"]})]})]})]})}),currentView==='results'&&quizResults&&/*#__PURE__*/_jsx(\"div\",{className:\"max-w-4xl mx-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-sm border p-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:`inline-flex items-center justify-center w-16 h-16 rounded-full mb-4 ${quizResults.passed?'bg-green-100 text-green-600':'bg-red-100 text-red-600'}`,children:quizResults.passed?/*#__PURE__*/_jsx(Award,{className:\"h-8 w-8\"}):/*#__PURE__*/_jsx(AlertCircle,{className:\"h-8 w-8\"})}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-2\",children:quizResults.passed?'Training Completed Successfully!':'Training Needs Review'}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 mb-4\",children:[\"You scored \",quizResults.score,\" out of \",quizResults.total,\" (\",quizResults.percentage,\"%)\"]}),/*#__PURE__*/_jsx(\"div\",{className:`inline-block px-4 py-2 rounded-full text-sm font-medium ${quizResults.passed?'bg-green-100 text-green-800':'bg-red-100 text-red-800'}`,children:quizResults.passed?'PASSED':`FAILED - Minimum ${((_trainingData$quizCon8=trainingData.quizConfig)===null||_trainingData$quizCon8===void 0?void 0:_trainingData$quizCon8.passingScore)||80}% required`}),quizResults.passed&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 p-4 bg-blue-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium text-blue-900 mb-2\",children:\"\\uD83C\\uDF89 Certification Earned\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-blue-800\",children:\"Certificate will be automatically added to employee training record\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold\",children:\"Detailed Results\"}),quizResults.results.map((result,index)=>/*#__PURE__*/_jsxs(\"div\",{className:`p-6 rounded-lg border-l-4 ${result.isCorrect?'border-green-500 bg-green-50':'border-red-500 bg-red-50'}`,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between mb-2\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-medium text-gray-900\",children:[\"Question \",index+1]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:`text-sm font-medium ${result.isCorrect?'text-green-600':'text-red-600'}`,children:result.isCorrect?'Correct':'Incorrect'}),generatedTraining.quiz[index].ragSource&&/*#__PURE__*/_jsxs(\"span\",{className:\"px-2 py-1 bg-gray-100 text-gray-600 rounded text-xs\",children:[\"Source: \",generatedTraining.quiz[index].ragSource]})]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700 mb-3\",children:result.question}),!result.isCorrect&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3 space-y-1\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-red-700\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Your answer:\"}),\" \",generatedTraining.quiz[index].options[result.userAnswer]]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-green-700\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Correct answer:\"}),\" \",generatedTraining.quiz[index].options[result.correctAnswer]]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-3 rounded border\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Explanation:\"}),\" \",result.explanation]})})]},index))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center space-x-4 mt-8\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setCurrentView('review'),className:\"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Eye,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Review Training\"})]}),!quizResults.passed&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setCurrentQuestionIndex(0);setUserAnswers({});setQuizResults(null);setCurrentView('quiz');},className:\"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Play,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Retake Quiz\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{// Simulate saving results and returning to dashboard\nsetCurrentView('dashboard');// Update employee record with completed training\nif(selectedEmployee&&quizResults.passed){setEmployees(prev=>prev.map(emp=>emp.id===selectedEmployee.id?{...emp,completedTrainings:emp.completedTrainings+1,lastTraining:new Date().toISOString().split('T')[0],trainingHistory:[{id:emp.trainingHistory.length+1,title:trainingData.title,date:new Date().toISOString().split('T')[0],score:quizResults.percentage,status:'completed',language:trainingData.language,ragSources:ragAnalysis?ragAnalysis.relevantDocuments.map(doc=>doc.name):[]},...emp.trainingHistory]}:emp));}},className:\"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(CheckCircle,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:quizResults.passed?'Complete Training':'Save Progress'})]})]})]})}),showAddEmployee&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-lg max-w-md w-full mx-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-6 border-b\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-gray-900\",children:\"Add New Employee\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAddEmployee(false),className:\"text-gray-500 hover:text-gray-700\",children:\"\\u2715\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Full Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newEmployee.name,onChange:e=>setNewEmployee(prev=>({...prev,name:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",placeholder:\"Enter employee name\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Department\"}),/*#__PURE__*/_jsxs(\"select\",{value:newEmployee.department,onChange:e=>setNewEmployee(prev=>({...prev,department:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select\"}),standardDepartments.map(dept=>/*#__PURE__*/_jsx(\"option\",{value:dept,children:dept},dept))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Position\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newEmployee.position,onChange:e=>setNewEmployee(prev=>({...prev,position:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",placeholder:\"Job title\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Email Address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:newEmployee.email,onChange:e=>setNewEmployee(prev=>({...prev,email:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",placeholder:\"employee@company.com\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Hire Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:newEmployee.hireDate,onChange:e=>setNewEmployee(prev=>({...prev,hireDate:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Preferred Language\"}),/*#__PURE__*/_jsx(\"select\",{value:newEmployee.preferredLanguage,onChange:e=>setNewEmployee(prev=>({...prev,preferredLanguage:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",children:languages.map(lang=>/*#__PURE__*/_jsxs(\"option\",{value:lang.code,children:[lang.flag,\" \",lang.name]},lang.code))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3 pt-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAddEmployee(false),className:\"flex-1 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:addNewEmployee,disabled:!newEmployee.name||!newEmployee.department||!newEmployee.position,className:\"flex-1 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-300\",children:\"Add Employee\"})]})]})]})}),selectedEmployee&&currentView==='dashboard'&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-lg max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-6 border-b\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:selectedEmployee.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600\",children:[selectedEmployee.position,\" \\u2022 \",selectedEmployee.department]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 mt-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs bg-gray-100 px-2 py-1 rounded\",children:getLanguageName(selectedEmployee.preferredLanguage)}),selectedEmployee.role==='supervisor'&&/*#__PURE__*/_jsx(\"span\",{className:\"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded\",children:\"Supervisor\"})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedEmployee(null),className:\"text-gray-500 hover:text-gray-700\",children:\"\\u2715\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium text-blue-900 mb-2\",children:\"Training Progress\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-bold text-blue-600\",children:[selectedEmployee.completedTrainings,\"/\",selectedEmployee.totalTrainings]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-blue-700\",children:\"Completed Trainings\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium text-green-900 mb-2\",children:\"Performance Score\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-bold text-green-600\",children:[selectedEmployee.performance||'N/A',\"%\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-green-700\",children:\"Average Score\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-purple-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium text-purple-900 mb-2\",children:\"Certifications\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-purple-600\",children:selectedEmployee.certifications.length}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-purple-700\",children:\"Active Certifications\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"Training History\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:selectedEmployee.trainingHistory.map(training=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center bg-gray-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium\",children:training.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 mt-1\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:training.date}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs bg-gray-200 px-2 py-1 rounded\",children:getLanguageName(training.language)})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsxs(\"p\",{className:`font-medium ${training.score>=90?'text-green-600':training.score>=80?'text-yellow-600':'text-red-600'}`,children:[training.score,\"%\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:training.status})]})]},training.id))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"AI Training Recommendations\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:selectedEmployee.recommendedTrainings.map((rec,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"bg-yellow-50 p-4 rounded-lg border-l-4 border-yellow-400\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-yellow-900\",children:rec.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-yellow-800 mt-1\",children:rec.reason})]}),/*#__PURE__*/_jsxs(\"span\",{className:`px-3 py-1 rounded text-sm ${rec.priority==='high'?'bg-red-100 text-red-800':rec.priority==='medium'?'bg-yellow-100 text-yellow-800':'bg-green-100 text-green-800'}`,children:[rec.priority,\" priority\"]})]})},index))})]}),selectedEmployee.certifications.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"Active Certifications\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-2\",children:selectedEmployee.certifications.map((cert,index)=>/*#__PURE__*/_jsx(\"span\",{className:\"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm\",children:cert},index))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 border-t bg-gray-50 flex justify-end space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedEmployee(null),className:\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50\",children:\"Close\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setCurrentView('create');},className:\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\",children:\"Assign Training\"})]})]})}),showRAGManager&&/*#__PURE__*/_jsx(RAGManager,{onClose:()=>setShowRAGManager(false),currentUser:currentUser})]})]});};export default LineSmartPlatform;","map":{"version":3,"names":["React","useState","useRef","useEffect","Upload","FileText","Users","Brain","CheckCircle","AlertCircle","Play","Download","Settings","UserPlus","Target","TrendingUp","Calendar","Award","BookOpen","Plus","Edit3","Eye","Filter","Database","Cloud","Key","Zap","Link","Bot","FileSearch","Search","Building","Globe","Shield","GitBranch","RAGManager","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","LineSmartPlatform","_aiModels$find","_setupConfig$aiModels","_setupConfig$aiModels2","_trainingData$quizCon3","_trainingData$quizCon4","_trainingData$quizCon5","_trainingData$quizCon6","_trainingData$quizCon7","_trainingData$quizCon8","currentView","setCurrentView","setupStep","setSetupStep","selectedEmployee","setSelectedEmployee","showRAGManager","setShowRAGManager","setupConfig","setSetupConfig","company","name","industry","size","departments","customDepartments","safetyRequirements","complianceStandards","defaultLanguage","supportedLanguages","aiModels","primary","secondary","configs","openai","apiKey","model","endpoint","claude","gemini","llama","custom","dataSource","type","config","googleDrive","folderId","credentials","sharedDrives","s3","bucket","region","accessKey","secretKey","azure","container","connectionString","account","sharepoint","siteUrl","tenantId","clientId","clientSecret","local","path","format","ragSettings","enabled","chunkSize","overlap","vectorStore","embeddingModel","onboarding","defaultTrainings","departmentSpecific","probationPeriod","checkpoints","mentorAssignment","supervisorPermissions","canCreateDepartmentTraining","canCreateIndividualTraining","canModifyTraining","canViewAllEmployees","canAssignTraining","requiresApproval","employees","setEmployees","id","department","position","role","supervisor","hireDate","preferredLanguage","completedTrainings","totalTrainings","lastTraining","performance","certifications","trainingHistory","title","date","score","status","language","ragSources","recommendedTrainings","reason","priority","supervisesEmployees","canCreateTraining","trainingData","setTrainingData","trainingType","description","objectives","documents","assignedEmployees","dueDate","aiModel","trainingScope","supervisorId","quizConfig","questionCount","passingScore","style","newEmployee","setNewEmployee","email","directSupervisor","generatedTraining","setGeneratedTraining","isGenerating","setIsGenerating","quizResults","setQuizResults","currentQuestionIndex","setCurrentQuestionIndex","userAnswers","setUserAnswers","showAddEmployee","setShowAddEmployee","filterDepartment","setFilterDepartment","ragAnalysis","setRagAnalysis","isAnalyzing","setIsAnalyzing","fileInputRef","industries","companySizes","standardDepartments","trainingTypes","languages","code","flag","dataSourceTypes","icon","className","currentUser","find","emp","supervisedEmployees","filter","_currentUser$supervis","includes","currentUserDepartment","getLanguageName","lang","l","generateCompanyConfig","companyName","suggestions","prev","analyzeTrainingWithRAG","employee","mockAnalysis","relevantDocuments","relevance","chunks","suggestedContent","performanceGaps","estimatedDuration","error","console","handleSetupNext","steps","currentIndex","indexOf","length","handleSetupPrev","testConnection","Promise","resolve","setTimeout","success","message","generateTrainingWithAPI","prompt","createTrainingPrompt","enabledModels","Object","entries","_ref","key","callUserConfiguredAPI","log","callFreeLlamaAPI","_languages$find","isSpanish","targetLanguage","assignedEmployeeNames","map","_employees$find","join","doc","_ref2","modelName","response","fetch","method","headers","body","JSON","stringify","messages","content","max_tokens","temperature","ok","Error","data","json","parseTrainingResponse","choices","text","parsed","parse","training","quiz","generateTraining","_languages$find2","_ragAnalysis$relevant","_ragAnalysis$relevant2","_ragAnalysis$relevant3","_ragAnalysis$relevant4","_ragAnalysis$relevant5","_ragAnalysis$relevant6","_trainingData$quizCon","ragContext","_employees$find2","apiResponse","mockResponse","introduction","sections","keyPoints","safetyNotes","bestPractices","commonMistakes","question","options","correct","explanation","ragSource","slice","alert","addNewEmployee","employeeId","newEmp","handleFileUpload","e","files","Array","from","target","file","startQuiz","handleAnswerSelect","questionIndex","answerIndex","submitQuiz","_trainingData$quizCon2","results","index","userAnswer","correctAnswer","isCorrect","r","percentage","Math","round","total","passed","getDashboardStats","totalEmployees","avgCompletion","reduce","acc","activeTrainings","avgPerformance","stats","completedSetup","filteredEmployees","children","onClick","width","value","onChange","placeholder","checked","languagesArray","dept","d","req","requirements","disabled","m","source","parseInt","trainings","t","rec","insight","Set","rows","_fileInputRef$current","current","click","ref","multiple","accept","_","i","_ref3","toUpperCase","section","point","pointIndex","note","practice","mistake","option","max","keys","min","result","Date","toISOString","split","cert","onClose"],"sources":["/Users/fredtaylor/Desktop/linesmartcl/src/LineSmartPlatform.jsx"],"sourcesContent":["\nimport React, { useState, useRef, useEffect } from 'react';\nimport { Upload, FileText, Users, Brain, CheckCircle, AlertCircle, Play, Download, Settings, UserPlus, Target, TrendingUp, Calendar, Award, BookOpen, Plus, Edit3, Eye, Filter, Database, Cloud, Key, Zap, Link, Bot, FileSearch, Search, Building, Globe, Shield, GitBranch } from 'lucide-react';\nimport RAGManager from './components/RAGManager';\n\nconst LineSmartPlatform = () => {\n  const [currentView, setCurrentView] = useState('setup');\n  const [setupStep, setSetupStep] = useState('welcome');\n  const [selectedEmployee, setSelectedEmployee] = useState(null);\n  const [showRAGManager, setShowRAGManager] = useState(false);\n  \n  const [setupConfig, setSetupConfig] = useState({\n    company: {\n      name: '',\n      industry: '',\n      size: '',\n      departments: [],\n      customDepartments: '',\n      safetyRequirements: [],\n      complianceStandards: [],\n      defaultLanguage: 'en',\n      supportedLanguages: ['en', 'es', 'fr', 'pt', 'de']\n    },\n    aiModels: {\n      primary: '',\n      secondary: '',\n      configs: {\n        openai: { apiKey: '', model: 'gpt-4', endpoint: '' },\n        claude: { apiKey: '', model: 'claude-3-sonnet', endpoint: '' },\n        gemini: { apiKey: '', model: 'gemini-pro', endpoint: '' },\n        llama: { apiKey: '', model: 'llama-2-70b', endpoint: '' },\n        custom: { name: '', apiKey: '', model: '', endpoint: '' }\n      }\n    },\n    dataSource: {\n      type: '',\n      config: {\n        googleDrive: { folderId: '', credentials: '', sharedDrives: [] },\n        s3: { bucket: '', region: '', accessKey: '', secretKey: '' },\n        azure: { container: '', connectionString: '', account: '' },\n        sharepoint: { siteUrl: '', tenantId: '', clientId: '', clientSecret: '' },\n        local: { path: '', format: '' }\n      },\n      ragSettings: {\n        enabled: true,\n        chunkSize: 1000,\n        overlap: 200,\n        vectorStore: 'chromadb',\n        embeddingModel: 'text-embedding-ada-002'\n      }\n    },\n    onboarding: {\n      defaultTrainings: [],\n      departmentSpecific: {},\n      probationPeriod: 90,\n      checkpoints: [],\n      mentorAssignment: true\n    },\n    supervisorPermissions: {\n      canCreateDepartmentTraining: true,\n      canCreateIndividualTraining: true,\n      canModifyTraining: true,\n      canViewAllEmployees: true,\n      canAssignTraining: true,\n      requiresApproval: false\n    }\n  });\n\n  const [employees, setEmployees] = useState([\n    {\n      id: 1,\n      name: 'John Smith',\n      department: 'Maintenance',\n      position: 'Senior Technician',\n      role: 'employee',\n      supervisor: 'Mike Rodriguez',\n      hireDate: '2023-01-15',\n      preferredLanguage: 'en',\n      completedTrainings: 8,\n      totalTrainings: 12,\n      lastTraining: '2024-07-20',\n      performance: 92,\n      certifications: ['OSHA 30', 'Electrical Safety'],\n      trainingHistory: [\n        { id: 1, title: 'Lockout/Tagout Procedures', date: '2024-07-20', score: 95, status: 'completed', language: 'en', ragSources: ['Manual_LOTO_v2.pdf', 'Safety_Protocol_2024.docx'] },\n        { id: 2, title: 'Equipment Maintenance', date: '2024-07-15', score: 88, status: 'completed', language: 'en', ragSources: ['Maintenance_Guide.pdf'] },\n        { id: 3, title: 'Safety Protocols', date: '2024-07-10', score: 92, status: 'completed', language: 'en', ragSources: ['Company_Safety_Manual.pdf', 'OSHA_Guidelines.pdf'] }\n      ],\n      recommendedTrainings: [\n        { title: 'Advanced Hydraulic Systems', reason: 'Based on recent equipment updates and internal documentation analysis', priority: 'high', ragSources: ['Hydraulic_Manual_2024.pdf'] },\n        { title: 'Emergency Response', reason: 'Due for annual recertification per company policy', priority: 'medium', ragSources: ['Emergency_Procedures.docx'] }\n      ]\n    },\n    {\n      id: 2,\n      name: 'Sarah Johnson',\n      department: 'Production',\n      position: 'Line Operator',\n      role: 'employee',\n      supervisor: 'Lisa Chen',\n      hireDate: '2023-06-01',\n      preferredLanguage: 'en',\n      completedTrainings: 6,\n      totalTrainings: 10,\n      lastTraining: '2024-07-18',\n      performance: 85,\n      certifications: ['Food Safety'],\n      trainingHistory: [\n        { id: 4, title: 'SQF Compliance', date: '2024-07-18', score: 82, status: 'completed', language: 'en', ragSources: ['SQF_Manual.pdf'] },\n        { id: 5, title: 'Quality Control', date: '2024-07-12', score: 88, status: 'completed', language: 'en', ragSources: ['Quality_Guidelines.pdf'] }\n      ],\n      recommendedTrainings: [\n        { title: 'Advanced Quality Control', reason: 'Based on recent quality metrics', priority: 'high' },\n        { title: 'Team Leadership', reason: 'Career development opportunity', priority: 'low' }\n      ]\n    },\n    {\n      id: 3,\n      name: 'Mike Rodriguez',\n      department: 'Safety',\n      position: 'Safety Coordinator',\n      role: 'supervisor',\n      supervisor: 'Director of Operations',\n      hireDate: '2022-11-10',\n      preferredLanguage: 'en',\n      completedTrainings: 15,\n      totalTrainings: 18,\n      lastTraining: '2024-07-22',\n      performance: 96,\n      certifications: ['OSHA 30', 'First Aid', 'Environmental Safety'],\n      supervisesEmployees: [1],\n      canCreateTraining: true,\n      trainingHistory: [\n        { id: 6, title: 'Hazard Communication', date: '2024-07-22', score: 98, status: 'completed', language: 'en', ragSources: ['OSHA_Standards.pdf'] },\n        { id: 7, title: 'Incident Investigation', date: '2024-07-17', score: 94, status: 'completed', language: 'en', ragSources: ['Investigation_Manual.pdf'] }\n      ],\n      recommendedTrainings: [\n        { title: 'Industrial Hygiene', reason: 'Skill enhancement opportunity', priority: 'medium' }\n      ]\n    },\n    {\n      id: 4,\n      name: 'MarÃ­a GarcÃ­a',\n      department: 'Production',\n      position: 'Line Operator',\n      role: 'employee',\n      supervisor: 'Lisa Chen',\n      hireDate: '2024-02-15',\n      preferredLanguage: 'es',\n      completedTrainings: 3,\n      totalTrainings: 8,\n      lastTraining: '2024-07-10',\n      performance: 78,\n      certifications: ['Basic Safety'],\n      trainingHistory: [\n        { id: 8, title: 'OrientaciÃ³n de Seguridad', date: '2024-07-10', score: 85, status: 'completed', language: 'es', ragSources: ['Manual_Seguridad_ES.pdf'] },\n        { id: 9, title: 'Procedimientos de Calidad', date: '2024-06-20', score: 82, status: 'completed', language: 'es', ragSources: ['Calidad_Manual_ES.pdf'] }\n      ],\n      recommendedTrainings: [\n        { title: 'Seguridad Alimentaria Avanzada', reason: 'Necesario para certificaciÃ³n departamental', priority: 'high' },\n        { title: 'ComunicaciÃ³n en el Lugar de Trabajo', reason: 'Mejora de habilidades de comunicaciÃ³n', priority: 'medium' }\n      ]\n    },\n    {\n      id: 5,\n      name: 'Lisa Chen',\n      department: 'Production',\n      position: 'Production Supervisor',\n      role: 'supervisor',\n      supervisor: 'Director of Operations',\n      hireDate: '2021-08-10',\n      preferredLanguage: 'en',\n      completedTrainings: 20,\n      totalTrainings: 22,\n      lastTraining: '2024-07-25',\n      performance: 94,\n      certifications: ['Production Management', 'Lean Manufacturing', 'Food Safety'],\n      supervisesEmployees: [2, 4],\n      canCreateTraining: true,\n      trainingHistory: [\n        { id: 10, title: 'Leadership Development', date: '2024-07-25', score: 96, status: 'completed', language: 'en', ragSources: ['Leadership_Guide.pdf'] }\n      ],\n      recommendedTrainings: [\n        { title: 'Advanced Lean Manufacturing', reason: 'Process improvement initiative', priority: 'medium' }\n      ]\n    }\n  ]);\n\n  const [trainingData, setTrainingData] = useState({\n    title: '',\n    department: '',\n    trainingType: '',\n    description: '',\n    objectives: '',\n    documents: [],\n    assignedEmployees: [],\n    dueDate: '',\n    ragSources: [],\n    aiModel: 'primary',\n    language: 'en',\n    trainingScope: 'individual',\n    supervisorId: null,\n    quizConfig: {\n      questionCount: 5,\n      passingScore: 80,\n      style: 'mixed'\n    }\n  });\n\n  const [newEmployee, setNewEmployee] = useState({\n    name: '',\n    department: '',\n    position: '',\n    email: '',\n    hireDate: '',\n    directSupervisor: '',\n    preferredLanguage: 'en'\n  });\n\n  const [generatedTraining, setGeneratedTraining] = useState(null);\n  const [isGenerating, setIsGenerating] = useState(false);\n  const [quizResults, setQuizResults] = useState(null);\n  const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);\n  const [userAnswers, setUserAnswers] = useState({});\n  const [showAddEmployee, setShowAddEmployee] = useState(false);\n  const [filterDepartment, setFilterDepartment] = useState('all');\n  const [ragAnalysis, setRagAnalysis] = useState(null);\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\n  const fileInputRef = useRef(null);\n\n  const industries = [\n    'Manufacturing', 'Food & Beverage', 'Pharmaceutical', 'Automotive', \n    'Aerospace', 'Chemical', 'Construction', 'Energy', 'Healthcare', 'Technology'\n  ];\n\n  const companySizes = [\n    '1-50 employees', '51-200 employees', '201-1000 employees', \n    '1001-5000 employees', '5000+ employees'\n  ];\n\n  const standardDepartments = [\n    'Production', 'Maintenance', 'Quality Assurance', 'Safety', 'Warehouse',\n    'Sanitation', 'Management', 'HR', 'Engineering', 'R&D', 'Logistics'\n  ];\n\n  const safetyRequirements = [\n    'OSHA Compliance', 'ISO 45001', 'SQF Food Safety', 'HACCP', 'GMP',\n    'FDA Regulations', 'Environmental Health', 'Fire Safety', 'Chemical Safety'\n  ];\n\n  const trainingTypes = [\n    'Safety Procedures', 'Equipment Quality', 'SQF Compliance', 'Disciplinary Guidelines',\n    'Technical Operations', 'Emergency Procedures', 'Quality Control', 'Maintenance Protocols',\n    'Food Safety', 'Environmental Health', 'Onboarding Orientation', 'Leadership Development'\n  ];\n\n  const languages = [\n    { code: 'en', name: 'English', flag: 'ðŸ‡ºðŸ‡¸' },\n    { code: 'es', name: 'EspaÃ±ol', flag: 'ðŸ‡ªðŸ‡¸' },\n    { code: 'fr', name: 'FranÃ§ais', flag: 'ðŸ‡«ðŸ‡·' },\n    { code: 'pt', name: 'PortuguÃªs', flag: 'ðŸ‡§ðŸ‡·' },\n    { code: 'de', name: 'Deutsch', flag: 'ðŸ‡©ðŸ‡ª' },\n    { code: 'it', name: 'Italiano', flag: 'ðŸ‡®ðŸ‡¹' },\n    { code: 'zh', name: 'ä¸­æ–‡', flag: 'ðŸ‡¨ðŸ‡³' },\n    { code: 'ja', name: 'æ—¥æœ¬èªž', flag: 'ðŸ‡¯ðŸ‡µ' },\n    { code: 'ko', name: 'í•œêµ­ì–´', flag: 'ðŸ‡°ðŸ‡·' },\n    { code: 'ar', name: 'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©', flag: 'ðŸ‡¸ðŸ‡¦' }\n  ];\n\n  const aiModels = [\n    { id: 'openai', name: 'OpenAI GPT', description: 'GPT-3.5/GPT-4 models for comprehensive training generation' },\n    { id: 'claude', name: 'Anthropic Claude', description: 'Claude 3 Sonnet/Opus for detailed, safe training content' },\n    { id: 'gemini', name: 'Google Gemini', description: 'Gemini Pro for multimodal training with document analysis' },\n    { id: 'llama', name: 'Meta Llama', description: 'Open-source Llama models for custom deployment' },\n    { id: 'custom', name: 'Custom Model', description: 'Connect your own fine-tuned or enterprise model' }\n  ];\n\n  const dataSourceTypes = [\n    { id: 'googleDrive', name: 'Google Drive', icon: <Cloud className=\"h-5 w-5\" />, description: 'Connect to Google Drive folders and shared drives' },\n    { id: 's3', name: 'Amazon S3', icon: <Database className=\"h-5 w-5\" />, description: 'AWS S3 bucket integration for document storage' },\n    { id: 'azure', name: 'Azure Blob', icon: <Cloud className=\"h-5 w-5\" />, description: 'Microsoft Azure Blob Storage' },\n    { id: 'sharepoint', name: 'SharePoint', icon: <Building className=\"h-5 w-5\" />, description: 'Microsoft SharePoint document libraries' },\n    { id: 'local', name: 'Local Files', icon: <FileText className=\"h-5 w-5\" />, description: 'Upload files directly to the platform' }\n  ];\n\n  const currentUser = employees.find(emp => emp.role === 'supervisor') || employees[2];\n  const supervisedEmployees = employees.filter(emp => emp.supervisor === currentUser?.name || currentUser?.supervisesEmployees?.includes(emp.id));\n  const currentUserDepartment = currentUser?.department;\n\n  const getLanguageName = (code) => {\n    const lang = languages.find(l => l.code === code);\n    return lang ? `${lang.flag} ${lang.name}` : code;\n  };\n\n  // AI-assisted form filling function\n  const generateCompanyConfig = async (companyName, industry) => {\n    const suggestions = {\n      'Manufacturing': {\n        departments: ['Production', 'Maintenance', 'Quality Assurance', 'Safety', 'Engineering'],\n        safetyRequirements: ['OSHA Compliance', 'ISO 45001', 'Environmental Health'],\n        defaultTrainings: ['Safety Orientation', 'Equipment Training', 'Quality Procedures']\n      },\n      'Food & Beverage': {\n        departments: ['Production', 'Quality Assurance', 'Sanitation', 'Warehouse', 'Maintenance'],\n        safetyRequirements: ['SQF Food Safety', 'HACCP', 'FDA Regulations', 'GMP'],\n        defaultTrainings: ['Food Safety Fundamentals', 'HACCP Principles', 'Sanitation Procedures']\n      },\n      'Healthcare': {\n        departments: ['Clinical', 'Nursing', 'Administration', 'Maintenance', 'Safety'],\n        safetyRequirements: ['OSHA Compliance', 'HIPAA', 'Infection Control'],\n        defaultTrainings: ['HIPAA Training', 'Infection Control', 'Patient Safety']\n      }\n    };\n\n    const config = suggestions[industry] || suggestions['Manufacturing'];\n    \n    setSetupConfig(prev => ({\n      ...prev,\n      company: {\n        ...prev.company,\n        departments: config.departments,\n        safetyRequirements: config.safetyRequirements\n      },\n      onboarding: {\n        ...prev.onboarding,\n        defaultTrainings: config.defaultTrainings\n      }\n    }));\n  };\n\n  // RAG-powered training analysis\n  const analyzeTrainingWithRAG = async (employee, trainingType) => {\n    setIsAnalyzing(true);\n    \n    try {\n      const mockAnalysis = {\n        relevantDocuments: [\n          { name: 'Safety_Manual_2024.pdf', relevance: 0.95, chunks: 3 },\n          { name: 'Equipment_Procedures.docx', relevance: 0.88, chunks: 2 },\n          { name: 'Company_Policies.pdf', relevance: 0.76, chunks: 1 }\n        ],\n        suggestedContent: [\n          'Based on your safety manual, emphasis should be placed on PPE requirements specific to maintenance roles',\n          'Recent equipment updates documented in procedures require additional hydraulic system training',\n          'Company policy changes from Q3 2024 affect maintenance scheduling protocols'\n        ],\n        performanceGaps: [\n          'Equipment troubleshooting scores below department average',\n          'Safety compliance needs reinforcement based on recent incidents',\n          'Documentation practices need improvement per quality standards'\n        ],\n        recommendedTrainings: [\n          {\n            title: 'Advanced Equipment Diagnostics',\n            reason: 'Based on performance analysis and new equipment documentation',\n            priority: 'high',\n            estimatedDuration: '4 hours',\n            ragSources: ['Equipment_Manual_v3.pdf', 'Troubleshooting_Guide.docx']\n          },\n          {\n            title: 'Updated Safety Protocols',\n            reason: 'Recent policy changes and incident analysis',\n            priority: 'medium',\n            estimatedDuration: '2 hours',\n            ragSources: ['Safety_Updates_2024.pdf', 'Incident_Reports.xlsx']\n          }\n        ]\n      };\n\n      setRagAnalysis(mockAnalysis);\n    } catch (error) {\n      console.error('RAG analysis failed:', error);\n    } finally {\n      setIsAnalyzing(false);\n    }\n  };\n\n  const handleSetupNext = () => {\n    const steps = ['welcome', 'company', 'ai-models', 'data-source', 'onboarding', 'complete'];\n    const currentIndex = steps.indexOf(setupStep);\n    if (currentIndex < steps.length - 1) {\n      setSetupStep(steps[currentIndex + 1]);\n    }\n  };\n\n  const handleSetupPrev = () => {\n    const steps = ['welcome', 'company', 'ai-models', 'data-source', 'onboarding', 'complete'];\n    const currentIndex = steps.indexOf(setupStep);\n    if (currentIndex > 0) {\n      setSetupStep(steps[currentIndex - 1]);\n    }\n  };\n\n  const testConnection = async (type, config) => {\n    return new Promise((resolve) => {\n      setTimeout(() => {\n        resolve({ success: true, message: 'Connection successful' });\n      }, 2000);\n    });\n  };\n\n  const generateTrainingWithAPI = async () => {\n    const prompt = createTrainingPrompt();\n    \n    // Try user's configured APIs first (OpenAI, Anthropic, etc.)\n    const enabledModels = Object.entries(setupConfig.aiModels.configs).filter(([key, config]) => \n      config.apiKey && key !== 'llama'\n    );\n\n    if (enabledModels.length > 0) {\n      // Try user's configured models first\n      try {\n        return await callUserConfiguredAPI(enabledModels[0], prompt);\n      } catch (error) {\n        console.log('User API failed, falling back to free LLaMA:', error.message);\n      }\n    }\n\n    // Fallback to free LLaMA API \n    return await callFreeLlamaAPI(prompt);\n  };\n\n  const createTrainingPrompt = () => {\n    const isSpanish = trainingData.language === 'es';\n    const targetLanguage = languages.find(lang => lang.code === trainingData.language)?.name || 'English';\n    const assignedEmployeeNames = trainingData.trainingScope === 'individual' \n      ? trainingData.assignedEmployees.map(id => employees.find(emp => emp.id === id)?.name).join(', ')\n      : trainingData.trainingScope === 'department'\n      ? `All ${currentUserDepartment} department employees`\n      : 'All company employees';\n\n    return `Create a comprehensive training module in ${targetLanguage} for:\n- Job Title: ${trainingData.title}\n- Company: ${setupConfig.company.name}\n- Department: ${trainingData.department}\n- Target: ${assignedEmployeeNames}\n- Language: ${targetLanguage}\n\n${ragAnalysis ? `Context from company documents:\n- Relevant documents: ${ragAnalysis.relevantDocuments.map(doc => doc.name).join(', ')}\n- Key insights: ${ragAnalysis.suggestedContent.join(' ')}\n- Performance gaps: ${ragAnalysis.performanceGaps.join(' ')}` : ''}\n\nReturn a JSON object with this exact structure:\n{\n  \"training\": {\n    \"introduction\": \"Welcome message and overview\",\n    \"sections\": [\n      {\n        \"title\": \"Section title\",\n        \"content\": \"Section content\",\n        \"keyPoints\": [\"Point 1\", \"Point 2\", \"Point 3\"],\n        \"ragSources\": [\"doc1.pdf\", \"doc2.pdf\"]\n      }\n    ],\n    \"safetyNotes\": [\"Safety point 1\", \"Safety point 2\"],\n    \"bestPractices\": [\"Practice 1\", \"Practice 2\"],\n    \"commonMistakes\": [\"Mistake 1\", \"Mistake 2\"]\n  },\n  \"quiz\": [\n    {\n      \"question\": \"Question text?\",\n      \"options\": [\"A) Option 1\", \"B) Option 2\", \"C) Option 3\", \"D) Option 4\"],\n      \"correct\": 1,\n      \"explanation\": \"Explanation of correct answer\",\n      \"type\": \"Question type\",\n      \"ragSource\": \"source_document.pdf\"\n    }\n  ]\n}`;\n  };\n\n  const callUserConfiguredAPI = async ([modelName, config], prompt) => {\n    // Implementation for calling user's configured APIs (OpenAI, Anthropic, etc.)\n    if (modelName === 'openai' && config.apiKey) {\n      const response = await fetch('https://api.openai.com/v1/chat/completions', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${config.apiKey}`\n        },\n        body: JSON.stringify({\n          model: config.model || 'gpt-3.5-turbo',\n          messages: [{ role: 'user', content: prompt }],\n          max_tokens: 2000,\n          temperature: 0.7\n        })\n      });\n      \n      if (!response.ok) throw new Error(`OpenAI API error: ${response.status}`);\n      const data = await response.json();\n      return parseTrainingResponse(data.choices[0].message.content);\n    }\n\n    if (modelName === 'anthropic' && config.apiKey) {\n      const response = await fetch('https://api.anthropic.com/v1/messages', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${config.apiKey}`,\n          'anthropic-version': '2023-06-01'\n        },\n        body: JSON.stringify({\n          model: config.model || 'claude-3-sonnet-20240229',\n          messages: [{ role: 'user', content: prompt }],\n          max_tokens: 2000\n        })\n      });\n      \n      if (!response.ok) throw new Error(`Anthropic API error: ${response.status}`);\n      const data = await response.json();\n      return parseTrainingResponse(data.content[0].text);\n    }\n\n    throw new Error(`Model ${modelName} not implemented yet`);\n  };\n\n  const callFreeLlamaAPI = async (prompt) => {\n    console.log('ðŸ¦™ Using free LLaMA API as fallback...');\n    \n    const response = await fetch('https://chatterfix-llama-api-650169261019.us-central1.run.app/v1/chat/completions', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        model: 'llama3.2:1b',\n        messages: [{ role: 'user', content: prompt }],\n        max_tokens: 2000,\n        temperature: 0.7\n      })\n    });\n\n    if (!response.ok) {\n      throw new Error(`Free LLaMA API error: ${response.status}`);\n    }\n\n    const data = await response.json();\n    return parseTrainingResponse(data.choices[0].message.content);\n  };\n\n  const parseTrainingResponse = (content) => {\n    try {\n      // Try to parse as JSON first\n      const parsed = JSON.parse(content);\n      \n      // Validate the structure\n      if (parsed.training && parsed.quiz) {\n        return parsed;\n      }\n      \n      // If structure is wrong, throw error to fall back to mock\n      throw new Error('Invalid response structure');\n    } catch (error) {\n      console.log('Failed to parse API response as JSON, falling back to mock data');\n      throw error;\n    }\n  };\n\n  const generateTraining = async () => {\n    setIsGenerating(true);\n    \n    try {\n      const ragContext = ragAnalysis ? `\nRAG Analysis Context:\n- Relevant company documents: ${ragAnalysis.relevantDocuments.map(doc => doc.name).join(', ')}\n- Key insights: ${ragAnalysis.suggestedContent.join(' ')}\n- Performance gaps identified: ${ragAnalysis.performanceGaps.join(' ')}\n` : '';\n\n      const assignedEmployeeNames = trainingData.trainingScope === 'individual' \n        ? trainingData.assignedEmployees.map(id => employees.find(emp => emp.id === id)?.name).join(', ')\n        : trainingData.trainingScope === 'department'\n        ? `All ${currentUserDepartment} department employees`\n        : 'All company employees';\n\n      const targetLanguage = languages.find(lang => lang.code === trainingData.language)?.name || 'English';\n\n      // Try to generate content using API (user's configured models or free LLaMA fallback)\n      let apiResponse = null;\n      try {\n        apiResponse = await generateTrainingWithAPI();\n      } catch (error) {\n        console.log('API generation failed, using enhanced mock data:', error.message);\n      }\n\n      // Use API response if available, otherwise enhanced mock response with multi-language support\n      const isSpanish = trainingData.language === 'es';\n      const mockResponse = apiResponse || {\n        training: {\n          introduction: isSpanish ? \n            `Bienvenido al mÃ³dulo de capacitaciÃ³n ${trainingData.title} para ${setupConfig.company.name}. Esta capacitaciÃ³n ha sido personalizada utilizando los procedimientos y polÃ­ticas especÃ­ficos de nuestra empresa. Basado en el anÃ¡lisis de nuestra documentaciÃ³n interna, esta capacitaciÃ³n aborda Ã¡reas clave identificadas para ${assignedEmployeeNames} en el departamento de ${trainingData.department}.` :\n            `Welcome to the ${trainingData.title} training module for ${setupConfig.company.name}. This training has been customized using our company's specific procedures and policies. Based on analysis of our internal documentation, this training addresses key areas identified for ${assignedEmployeeNames} in the ${trainingData.department} department.`,\n          sections: [\n            {\n              title: isSpanish ? \"Procedimientos EspecÃ­ficos de la Empresa\" : \"Company-Specific Procedures\",\n              content: isSpanish ? \n                `Esta secciÃ³n se basa en nuestros procedimientos y polÃ­ticas mÃ¡s recientes de la empresa. El contenido ha sido adaptado utilizando informaciÃ³n de nuestro sistema de anÃ¡lisis de documentos para garantizar la relevancia a su funciÃ³n especÃ­fica y los estÃ¡ndares actuales de la empresa.` :\n                `This section is based on our latest company procedures and policies. The content has been tailored using information from our document analysis system to ensure relevance to your specific role and current company standards.`,\n              keyPoints: isSpanish ? [\n                \"Seguir protocolos especÃ­ficos de la empresa segÃºn se describe en nuestros procedimientos actuales\",\n                \"Aplicar requisitos de seguridad especÃ­ficos del departamento segÃºn el manual de la empresa\",\n                \"Utilizar herramientas y mÃ©todos aprobados por la empresa\",\n                \"Mantener estÃ¡ndares de documentaciÃ³n segÃºn la polÃ­tica de la empresa\"\n              ] : [\n                \"Follow company-specific protocols as outlined in our current procedures\",\n                \"Apply department-specific safety requirements per company manual\",\n                \"Utilize company-approved tools and methods\",\n                \"Maintain documentation standards as per company policy\"\n              ],\n              ragSources: ragAnalysis ? ragAnalysis.relevantDocuments.map(doc => doc.name) : []\n            },\n            {\n              title: isSpanish ? \"ImplementaciÃ³n EspecÃ­fica del Rol\" : \"Role-Specific Implementation\",\n              content: isSpanish ?\n                \"Basado en el anÃ¡lisis de datos de rendimiento recientes y documentaciÃ³n de la empresa, estos procedimientos estÃ¡n personalizados para su posiciÃ³n especÃ­fica y las necesidades actuales de la empresa.\" :\n                \"Based on analysis of recent performance data and company documentation, these procedures are customized for your specific position and current company needs.\",\n              keyPoints: isSpanish ? [\n                \"Responsabilidades y procedimientos especÃ­ficos de la posiciÃ³n\",\n                \"IntegraciÃ³n con sistemas y procesos actuales de la empresa\",\n                \"Cumplimiento con estÃ¡ndares de seguridad y calidad de la empresa\",\n                \"MÃ©tricas de rendimiento alineadas con objetivos de la empresa\"\n              ] : [\n                \"Position-specific responsibilities and procedures\",\n                \"Integration with current company systems and processes\",\n                \"Compliance with company safety and quality standards\",\n                \"Performance metrics aligned with company goals\"\n              ],\n              ragSources: ragAnalysis ? ragAnalysis.relevantDocuments.map(doc => doc.name) : []\n            }\n          ],\n          safetyNotes: isSpanish ? [\n            `Seguir todos los protocolos y procedimientos de seguridad de ${setupConfig.company.name}`,\n            \"Cumplir con los requisitos especÃ­ficos de EPP de la empresa\",\n            \"Reportar incidentes segÃºn los procedimientos de respuesta de emergencia de la empresa\",\n            \"Mantener estÃ¡ndares de seguridad como se describe en el manual de seguridad de la empresa\"\n          ] : [\n            `Follow all ${setupConfig.company.name} safety protocols and procedures`,\n            \"Comply with company-specific PPE requirements\",\n            \"Report incidents according to company emergency response procedures\",\n            \"Maintain safety standards as outlined in company safety manual\"\n          ],\n          bestPractices: isSpanish ? [\n            \"Utilizar mejores prÃ¡cticas y procedimientos aprobados por la empresa\",\n            \"Mantener aprendizaje continuo segÃºn los programas de desarrollo de la empresa\",\n            \"Colaborar efectivamente usando protocolos de comunicaciÃ³n de la empresa\",\n            \"Documentar actividades segÃºn los estÃ¡ndares de calidad de la empresa\"\n          ] : [\n            \"Utilize company-approved best practices and procedures\",\n            \"Maintain continuous learning per company development programs\",\n            \"Collaborate effectively using company communication protocols\",\n            \"Document activities according to company quality standards\"\n          ],\n          commonMistakes: isSpanish ? [\n            \"Desviarse de los procedimientos establecidos por la empresa\",\n            \"Ignorar los requisitos de seguridad especÃ­ficos de la empresa\",\n            \"No utilizar los sistemas de documentaciÃ³n de la empresa\",\n            \"No seguir los procesos de gestiÃ³n de cambios de la empresa\"\n          ] : [\n            \"Deviating from company-established procedures\",\n            \"Ignoring company-specific safety requirements\",\n            \"Failing to utilize company documentation systems\",\n            \"Not following company change management processes\"\n          ]\n        },\n        quiz: isSpanish ? [\n          {\n            question: `SegÃºn el manual de seguridad de ${setupConfig.company.name}, Â¿cuÃ¡l es el primer paso requerido antes de operar equipos en el departamento de ${trainingData.department}?`,\n            options: [\n              \"A) Revisar las pautas generales de seguridad\",\n              \"B) Completar la lista de verificaciÃ³n pre-operacional especÃ­fica de la empresa\",\n              \"C) Pedir permiso al supervisor\",\n              \"D) Revisar los procedimientos estÃ¡ndar de la industria\"\n            ],\n            correct: 1,\n            explanation: `El manual de seguridad de ${setupConfig.company.name} requiere especÃ­ficamente completar la lista de verificaciÃ³n pre-operacional especÃ­fica del departamento para asegurar que se sigan todos los protocolos de seguridad de la empresa.`,\n            type: \"PolÃ­tica de la Empresa\",\n            ragSource: ragAnalysis ? ragAnalysis.relevantDocuments[0]?.name : \"Manual_Seguridad_Empresa.pdf\"\n          },\n          {\n            question: `Basado en el anÃ¡lisis de datos de rendimiento recientes, Â¿quÃ© Ã¡rea requiere mÃ¡s atenciÃ³n para mejorar en su rol?`,\n            options: [\n              \"A) Seguir solo las mejores prÃ¡cticas de la industria\",\n              \"B) Integrar comentarios con el sistema de gestiÃ³n de rendimiento de la empresa\",\n              \"C) Trabajar independientemente sin orientaciÃ³n\",\n              \"D) Enfocarse solo en la velocidad de finalizaciÃ³n\"\n            ],\n            correct: 1,\n            explanation: \"Los comentarios de rendimiento deben integrarse activamente con el sistema de gestiÃ³n de rendimiento de la empresa para la mejora continua y alineaciÃ³n con los objetivos de la empresa.\",\n            type: \"IntegraciÃ³n de Rendimiento\",\n            ragSource: ragAnalysis ? ragAnalysis.relevantDocuments[1]?.name : \"Directrices_Rendimiento.pdf\"\n          },\n          {\n            question: `En un escenario donde encuentra una preocupaciÃ³n de seguridad no cubierta en los procedimientos estÃ¡ndar, Â¿cuÃ¡l deberÃ­a ser su acciÃ³n inmediata segÃºn la polÃ­tica de ${setupConfig.company.name}?`,\n            options: [\n              \"A) Continuar trabajando y reportarlo despuÃ©s\",\n              \"B) Detener el trabajo y seguir el procedimiento de reporte de incidentes de la empresa\",\n              \"C) Pedir consejo a un compaÃ±ero de trabajo\",\n              \"D) Buscar pautas de la industria en lÃ­nea\"\n            ],\n            correct: 1,\n            explanation: `La polÃ­tica de ${setupConfig.company.name} requiere la detenciÃ³n inmediata del trabajo y seguir el procedimiento especÃ­fico de reporte de incidentes de la empresa para asegurar la seguridad y documentaciÃ³n adecuada.`,\n            type: \"Basado en Escenarios\",\n            ragSource: \"Procedimientos_Emergencia.docx\"\n          },\n          {\n            question: `Al actualizar documentaciÃ³n segÃºn los estÃ¡ndares de calidad de ${setupConfig.company.name}, Â¿quÃ© sistema debe utilizarse?`,\n            options: [\n              \"A) Cualquier sistema de documentaciÃ³n disponible\",\n              \"B) Sistema de gestiÃ³n de calidad designado por la empresa\",\n              \"C) Notas y registros personales\",\n              \"D) Formatos estÃ¡ndar de la industria\"\n            ],\n            correct: 1,\n            explanation: \"Los estÃ¡ndares de calidad de la empresa requieren que toda la documentaciÃ³n se mantenga en el sistema de gestiÃ³n de calidad designado para asegurar consistencia y cumplimiento.\",\n            type: \"Control de Calidad\",\n            ragSource: ragAnalysis ? ragAnalysis.relevantDocuments[2]?.name : \"EstÃ¡ndares_Calidad.pdf\"\n          },\n          {\n            question: `Â¿CÃ³mo debe rastrearse el progreso de capacitaciÃ³n segÃºn su plan de desarrollo individual?`,\n            options: [\n              \"A) Solo autoevaluaciÃ³n\",\n              \"B) A travÃ©s del sistema de gestiÃ³n de capacitaciÃ³n de la empresa con supervisiÃ³n del supervisor\",\n              \"C) DiscusiÃ³n informal con compaÃ±eros\",\n              \"D) Solo proceso de revisiÃ³n anual\"\n            ],\n            correct: 1,\n            explanation: \"El progreso de capacitaciÃ³n debe rastrearse a travÃ©s del sistema de gestiÃ³n de capacitaciÃ³n de la empresa con supervisiÃ³n regular del supervisor para asegurar el desarrollo adecuado y cumplimiento.\",\n            type: \"GestiÃ³n de CapacitaciÃ³n\",\n            ragSource: \"PolÃ­tica_CapacitaciÃ³n.pdf\"\n          }\n        ] : [\n          {\n            question: `According to ${setupConfig.company.name} safety manual, what is the required first step before operating equipment in the ${trainingData.department} department?`,\n            options: [\n              \"A) Check general safety guidelines\",\n              \"B) Complete company-specific pre-operation checklist\",\n              \"C) Ask supervisor for permission\",\n              \"D) Review industry standard procedures\"\n            ],\n            correct: 1,\n            explanation: `${setupConfig.company.name}'s safety manual specifically requires completion of the department-specific pre-operation checklist to ensure all company safety protocols are followed.`,\n            type: \"Company Policy\",\n            ragSource: ragAnalysis ? ragAnalysis.relevantDocuments[0]?.name : \"Company_Safety_Manual.pdf\"\n          },\n          {\n            question: `Based on recent performance data analysis, which area requires the most attention for improvement in your role?`,\n            options: [\n              \"A) Following industry best practices only\",\n              \"B) Integrating feedback with company performance management system\",\n              \"C) Working independently without guidance\",\n              \"D) Focusing only on speed of completion\"\n            ],\n            correct: 1,\n            explanation: \"Performance feedback should be actively integrated with the company's performance management system for continuous improvement and alignment with company goals.\",\n            type: \"Performance Integration\",\n            ragSource: ragAnalysis ? ragAnalysis.relevantDocuments[1]?.name : \"Performance_Guidelines.pdf\"\n          },\n          {\n            question: `In a scenario where you encounter a safety concern not covered in standard procedures, what should be your immediate action according to ${setupConfig.company.name} policy?`,\n            options: [\n              \"A) Continue working and report it later\",\n              \"B) Stop work and follow company incident reporting procedure\",\n              \"C) Ask a coworker for advice\",\n              \"D) Look up industry guidelines online\"\n            ],\n            correct: 1,\n            explanation: `${setupConfig.company.name} policy requires immediate work stoppage and following the company's specific incident reporting procedure to ensure safety and proper documentation.`,\n            type: \"Scenario-Based\",\n            ragSource: \"Emergency_Procedures.docx\"\n          },\n          {\n            question: `When updating documentation according to ${setupConfig.company.name} quality standards, which system should be used?`,\n            options: [\n              \"A) Any available documentation system\",\n              \"B) Company's designated quality management system\",\n              \"C) Personal notes and records\",\n              \"D) Industry standard formats\"\n            ],\n            correct: 1,\n            explanation: \"Company quality standards require all documentation to be maintained in the designated quality management system to ensure consistency and compliance.\",\n            type: \"Quality Control\",\n            ragSource: ragAnalysis ? ragAnalysis.relevantDocuments[2]?.name : \"Quality_Standards.pdf\"\n          },\n          {\n            question: `How should training progress be tracked according to your individual development plan?`,\n            options: [\n              \"A) Self-assessment only\",\n              \"B) Through company's training management system with supervisor oversight\",\n              \"C) Informal discussion with peers\",\n              \"D) Annual review process only\"\n            ],\n            correct: 1,\n            explanation: \"Training progress must be tracked through the company's training management system with regular supervisor oversight to ensure proper development and compliance.\",\n            type: \"Training Management\",\n            ragSource: \"Training_Policy.pdf\"\n          }\n        ].slice(0, trainingData.quizConfig?.questionCount || 5),\n        ragAnalysis: ragAnalysis\n      };\n\n      setGeneratedTraining(mockResponse);\n      setCurrentView('review');\n    } catch (error) {\n      alert('Error generating training. Please check your configuration and try again.');\n    } finally {\n      setIsGenerating(false);\n    }\n  };\n\n  const addNewEmployee = () => {\n    if (newEmployee.name && newEmployee.department && newEmployee.position) {\n      const employeeId = employees.length + 1;\n      const newEmp = {\n        id: employeeId,\n        ...newEmployee,\n        role: 'employee',\n        supervisor: currentUser?.name,\n        completedTrainings: 0,\n        totalTrainings: 0,\n        lastTraining: null,\n        performance: null,\n        certifications: [],\n        trainingHistory: [],\n        recommendedTrainings: [\n          { title: 'Company Orientation', reason: 'New employee onboarding', priority: 'high' },\n          { title: 'Safety Fundamentals', reason: 'Required for all new hires', priority: 'high' },\n          { title: `${newEmployee.department} Basics`, reason: 'Department-specific training', priority: 'high' }\n        ]\n      };\n      \n      setEmployees([...employees, newEmp]);\n      setNewEmployee({\n        name: '',\n        department: '',\n        position: '',\n        email: '',\n        hireDate: '',\n        directSupervisor: '',\n        preferredLanguage: 'en'\n      });\n      setShowAddEmployee(false);\n    }\n  };\n\n  const handleFileUpload = (e) => {\n    const files = Array.from(e.target.files);\n    setTrainingData(prev => ({\n      ...prev,\n      documents: [...prev.documents, ...files.map(file => ({\n        name: file.name,\n        size: file.size,\n        type: file.type,\n        file: file\n      }))]\n    }));\n  };\n\n  const startQuiz = () => {\n    setCurrentView('quiz');\n    setCurrentQuestionIndex(0);\n    setUserAnswers({});\n    setQuizResults(null);\n  };\n\n  const handleAnswerSelect = (questionIndex, answerIndex) => {\n    setUserAnswers(prev => ({\n      ...prev,\n      [questionIndex]: answerIndex\n    }));\n  };\n\n  const submitQuiz = () => {\n    const results = generatedTraining.quiz.map((question, index) => ({\n      question: question.question,\n      userAnswer: userAnswers[index],\n      correctAnswer: question.correct,\n      isCorrect: userAnswers[index] === question.correct,\n      explanation: question.explanation\n    }));\n    \n    const score = results.filter(r => r.isCorrect).length;\n    const percentage = Math.round((score / results.length) * 100);\n    \n    setQuizResults({\n      results,\n      score,\n      total: results.length,\n      percentage,\n      passed: percentage >= (trainingData.quizConfig?.passingScore || 80)\n    });\n    setCurrentView('results');\n  };\n\n  const getDashboardStats = () => {\n    const totalEmployees = employees.length;\n    const avgCompletion = employees.reduce((acc, emp) => \n      acc + (emp.totalTrainings > 0 ? (emp.completedTrainings / emp.totalTrainings) * 100 : 0), 0) / totalEmployees;\n    const activeTrainings = employees.reduce((acc, emp) => acc + (emp.totalTrainings - emp.completedTrainings), 0);\n    const avgPerformance = employees.filter(emp => emp.performance).reduce((acc, emp) => acc + emp.performance, 0) / \n                          employees.filter(emp => emp.performance).length;\n\n    return {\n      totalEmployees,\n      avgCompletion: Math.round(avgCompletion),\n      activeTrainings,\n      avgPerformance: Math.round(avgPerformance || 0)\n    };\n  };\n\n  const stats = getDashboardStats();\n  const completedSetup = setupStep === 'complete';\n  const filteredEmployees = filterDepartment === 'all' ? employees : employees.filter(emp => emp.department === filterDepartment);\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Header */}\n      <div className=\"bg-white shadow-sm border-b\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex justify-between items-center py-4\">\n            <div className=\"flex items-center space-x-3\">\n              <Brain className=\"h-8 w-8 text-blue-600\" />\n              <div>\n                <h1 className=\"text-2xl font-bold text-gray-900\">Line Smart</h1>\n                <p className=\"text-sm text-gray-500\">Enterprise RAG-Powered Training Platform</p>\n              </div>\n            </div>\n            <div className=\"flex items-center space-x-4\">\n              {completedSetup && (\n                <div className=\"text-right\">\n                  <div className=\"text-sm text-gray-500\">\n                    {setupConfig.company.name} â€¢ {currentUser?.name} ({currentUser?.role})\n                  </div>\n                  <div className=\"text-xs text-blue-600\">\n                    {setupConfig.aiModels.primary} â€¢ RAG Enabled â€¢ {getLanguageName(setupConfig.company.defaultLanguage)}\n                  </div>\n                </div>\n              )}\n              <button\n                onClick={() => setCurrentView('setup')}\n                className=\"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 flex items-center space-x-2\"\n              >\n                <Settings className=\"h-4 w-4\" />\n                <span>Setup</span>\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        {/* Setup Flow */}\n        {currentView === 'setup' && (\n          <div className=\"max-w-4xl mx-auto\">\n            {/* Setup Progress */}\n            <div className=\"mb-8\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <h2 className=\"text-2xl font-bold text-gray-900\">Platform Setup</h2>\n                <span className=\"text-sm text-gray-500\">\n                  Step {['welcome', 'company', 'ai-models', 'data-source', 'onboarding', 'complete'].indexOf(setupStep) + 1} of 6\n                </span>\n              </div>\n              <div className=\"w-full bg-gray-200 rounded-full h-2\">\n                <div\n                  className=\"bg-blue-600 h-2 rounded-full transition-all duration-300\"\n                  style={{ width: `${((['welcome', 'company', 'ai-models', 'data-source', 'onboarding', 'complete'].indexOf(setupStep) + 1) / 6) * 100}%` }}\n                ></div>\n              </div>\n            </div>\n\n            {/* Welcome Step */}\n            {setupStep === 'welcome' && (\n              <div className=\"bg-white rounded-xl shadow-sm border p-8 text-center\">\n                <div className=\"mb-6\">\n                  <Bot className=\"h-16 w-16 text-blue-600 mx-auto mb-4\" />\n                  <h3 className=\"text-2xl font-bold text-gray-900 mb-2\">Welcome to Line Smart</h3>\n                  <p className=\"text-gray-600 max-w-2xl mx-auto\">\n                    Set up your enterprise AI-powered training platform with RAG (Retrieval Augmented Generation) \n                    capabilities. We'll help you configure AI models, connect to your data sources, and create \n                    personalized training experiences for your entire organization.\n                  </p>\n                </div>\n\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\n                  <div className=\"bg-blue-50 p-6 rounded-lg\">\n                    <Brain className=\"h-8 w-8 text-blue-600 mb-3 mx-auto\" />\n                    <h4 className=\"font-semibold text-blue-900 mb-2\">AI Integration</h4>\n                    <p className=\"text-sm text-blue-800\">Connect multiple AI models for diverse training generation</p>\n                  </div>\n                  <div className=\"bg-green-50 p-6 rounded-lg\">\n                    <Database className=\"h-8 w-8 text-green-600 mb-3 mx-auto\" />\n                    <h4 className=\"font-semibold text-green-900 mb-2\">RAG System</h4>\n                    <p className=\"text-sm text-green-800\">Use your company data to create contextual training</p>\n                  </div>\n                  <div className=\"bg-purple-50 p-6 rounded-lg\">\n                    <Users className=\"h-8 w-8 text-purple-600 mb-3 mx-auto\" />\n                    <h4 className=\"font-semibold text-purple-900 mb-2\">Individual Tracking</h4>\n                    <p className=\"text-sm text-purple-800\">Personalized learning paths for every employee</p>\n                  </div>\n                </div>\n\n                <button\n                  onClick={handleSetupNext}\n                  className=\"px-8 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center space-x-2 mx-auto\"\n                >\n                  <span>Get Started</span>\n                  <GitBranch className=\"h-4 w-4\" />\n                </button>\n              </div>\n            )}\n\n            {/* Company Configuration Step */}\n            {setupStep === 'company' && (\n              <div className=\"bg-white rounded-xl shadow-sm border p-8\">\n                <h3 className=\"text-xl font-semibold mb-6 flex items-center\">\n                  <Building className=\"h-5 w-5 mr-2 text-blue-600\" />\n                  Company Configuration\n                </h3>\n\n                <div className=\"space-y-6\">\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                        Company Name\n                      </label>\n                      <input\n                        type=\"text\"\n                        value={setupConfig.company.name}\n                        onChange={(e) => setSetupConfig(prev => ({\n                          ...prev,\n                          company: { ...prev.company, name: e.target.value }\n                        }))}\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                        placeholder=\"Enter your company name\"\n                      />\n                    </div>\n\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                        Industry\n                      </label>\n                      <select\n                        value={setupConfig.company.industry}\n                        onChange={(e) => {\n                          setSetupConfig(prev => ({\n                            ...prev,\n                            company: { ...prev.company, industry: e.target.value }\n                          }));\n                          if (setupConfig.company.name && e.target.value) {\n                            generateCompanyConfig(setupConfig.company.name, e.target.value);\n                          }\n                        }}\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                      >\n                        <option value=\"\">Select Industry</option>\n                        {industries.map(industry => (\n                          <option key={industry} value={industry}>{industry}</option>\n                        ))}\n                      </select>\n                    </div>\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                      Company Size\n                    </label>\n                    <select\n                      value={setupConfig.company.size}\n                      onChange={(e) => setSetupConfig(prev => ({\n                        ...prev,\n                        company: { ...prev.company, size: e.target.value }\n                      }))}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                    >\n                      <option value=\"\">Select Company Size</option>\n                      {companySizes.map(size => (\n                        <option key={size} value={size}>{size}</option>\n                      ))}\n                    </select>\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                      Default Company Language\n                    </label>\n                    <select\n                      value={setupConfig.company.defaultLanguage}\n                      onChange={(e) => setSetupConfig(prev => ({\n                        ...prev,\n                        company: { ...prev.company, defaultLanguage: e.target.value }\n                      }))}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                    >\n                      {languages.map(lang => (\n                        <option key={lang.code} value={lang.code}>\n                          {lang.flag} {lang.name}\n                        </option>\n                      ))}\n                    </select>\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                      Additional Supported Languages\n                    </label>\n                    <div className=\"grid grid-cols-2 md:grid-cols-3 gap-3\">\n                      {languages.filter(lang => lang.code !== setupConfig.company.defaultLanguage).map(lang => (\n                        <label key={lang.code} className=\"flex items-center space-x-2\">\n                          <input\n                            type=\"checkbox\"\n                            checked={setupConfig.company.supportedLanguages.includes(lang.code)}\n                            onChange={(e) => {\n                              const languagesArray = e.target.checked\n                                ? [...setupConfig.company.supportedLanguages, lang.code]\n                                : setupConfig.company.supportedLanguages.filter(l => l !== lang.code);\n                              setSetupConfig(prev => ({\n                                ...prev,\n                                company: { ...prev.company, supportedLanguages: languagesArray }\n                              }));\n                            }}\n                            className=\"rounded border-gray-300 text-blue-600 focus:ring-blue-500\"\n                          />\n                          <span className=\"text-sm text-gray-700\">{lang.flag} {lang.name}</span>\n                        </label>\n                      ))}\n                    </div>\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                      Departments\n                      {setupConfig.company.industry && (\n                        <span className=\"text-xs text-blue-600 ml-2\">(AI-suggested based on industry)</span>\n                      )}\n                    </label>\n                    <div className=\"grid grid-cols-2 md:grid-cols-3 gap-3 mb-3\">\n                      {standardDepartments.map(dept => (\n                        <label key={dept} className=\"flex items-center space-x-2\">\n                          <input\n                            type=\"checkbox\"\n                            checked={setupConfig.company.departments.includes(dept)}\n                            onChange={(e) => {\n                              const departments = e.target.checked\n                                ? [...setupConfig.company.departments, dept]\n                                : setupConfig.company.departments.filter(d => d !== dept);\n                              setSetupConfig(prev => ({\n                                ...prev,\n                                company: { ...prev.company, departments }\n                              }));\n                            }}\n                            className=\"rounded border-gray-300 text-blue-600 focus:ring-blue-500\"\n                          />\n                          <span className=\"text-sm text-gray-700\">{dept}</span>\n                        </label>\n                      ))}\n                    </div>\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                      Safety & Compliance Requirements\n                    </label>\n                    <div className=\"grid grid-cols-2 md:grid-cols-3 gap-3\">\n                      {safetyRequirements.map(req => (\n                        <label key={req} className=\"flex items-center space-x-2\">\n                          <input\n                            type=\"checkbox\"\n                            checked={setupConfig.company.safetyRequirements.includes(req)}\n                            onChange={(e) => {\n                              const requirements = e.target.checked\n                                ? [...setupConfig.company.safetyRequirements, req]\n                                : setupConfig.company.safetyRequirements.filter(r => r !== req);\n                              setSetupConfig(prev => ({\n                                ...prev,\n                                company: { ...prev.company, safetyRequirements: requirements }\n                              }));\n                            }}\n                            className=\"rounded border-gray-300 text-blue-600 focus:ring-blue-500\"\n                          />\n                          <span className=\"text-sm text-gray-700\">{req}</span>\n                        </label>\n                      ))}\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"flex justify-between mt-8\">\n                  <button\n                    onClick={handleSetupPrev}\n                    className=\"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50\"\n                  >\n                    Previous\n                  </button>\n                  <button\n                    onClick={handleSetupNext}\n                    disabled={!setupConfig.company.name || !setupConfig.company.industry}\n                    className=\"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-300\"\n                  >\n                    Next\n                  </button>\n                </div>\n              </div>\n            )}\n\n            {/* AI Models Configuration Step */}\n            {setupStep === 'ai-models' && (\n              <div className=\"bg-white rounded-xl shadow-sm border p-8\">\n                <h3 className=\"text-xl font-semibold mb-6 flex items-center\">\n                  <Brain className=\"h-5 w-5 mr-2 text-blue-600\" />\n                  AI Model Configuration\n                </h3>\n\n                <div className=\"space-y-8\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-4\">\n                      Select Primary AI Model\n                    </label>\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                      {aiModels.map(model => (\n                        <div\n                          key={model.id}\n                          onClick={() => setSetupConfig(prev => ({\n                            ...prev,\n                            aiModels: { ...prev.aiModels, primary: model.id }\n                          }))}\n                          className={`p-4 border rounded-lg cursor-pointer transition-colors ${\n                            setupConfig.aiModels.primary === model.id\n                              ? 'border-blue-500 bg-blue-50'\n                              : 'border-gray-300 hover:border-gray-400'\n                          }`}\n                        >\n                          <h4 className=\"font-medium text-gray-900 mb-2\">{model.name}</h4>\n                          <p className=\"text-sm text-gray-600\">{model.description}</p>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n\n                  {setupConfig.aiModels.primary && (\n                    <div className=\"border-t pt-6\">\n                      <h4 className=\"text-lg font-medium mb-4\">\n                        Configure {aiModels.find(m => m.id === setupConfig.aiModels.primary)?.name}\n                      </h4>\n                      \n                      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                        <div>\n                          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                            API Key\n                          </label>\n                          <input\n                            type=\"password\"\n                            value={setupConfig.aiModels.configs[setupConfig.aiModels.primary]?.apiKey || ''}\n                            onChange={(e) => setSetupConfig(prev => ({\n                              ...prev,\n                              aiModels: {\n                                ...prev.aiModels,\n                                configs: {\n                                  ...prev.aiModels.configs,\n                                  [setupConfig.aiModels.primary]: {\n                                    ...prev.aiModels.configs[setupConfig.aiModels.primary],\n                                    apiKey: e.target.value\n                                  }\n                                }\n                              }\n                            }))}\n                            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                            placeholder=\"Enter API key\"\n                          />\n                        </div>\n\n                        <div>\n                          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                            Model Version\n                          </label>\n                          <input\n                            type=\"text\"\n                            value={setupConfig.aiModels.configs[setupConfig.aiModels.primary]?.model || ''}\n                            onChange={(e) => setSetupConfig(prev => ({\n                              ...prev,\n                              aiModels: {\n                                ...prev.aiModels,\n                                configs: {\n                                  ...prev.aiModels.configs,\n                                  [setupConfig.aiModels.primary]: {\n                                    ...prev.aiModels.configs[setupConfig.aiModels.primary],\n                                    model: e.target.value\n                                  }\n                                }\n                              }\n                            }))}\n                            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                            placeholder=\"e.g., gpt-4, claude-3-sonnet\"\n                          />\n                        </div>\n                      </div>\n\n                      <button\n                        onClick={() => testConnection(setupConfig.aiModels.primary, setupConfig.aiModels.configs[setupConfig.aiModels.primary])}\n                        className=\"mt-4 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center space-x-2\"\n                      >\n                        <Zap className=\"h-4 w-4\" />\n                        <span>Test Connection</span>\n                      </button>\n                    </div>\n                  )}\n                </div>\n\n                <div className=\"flex justify-between mt-8\">\n                  <button\n                    onClick={handleSetupPrev}\n                    className=\"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50\"\n                  >\n                    Previous\n                  </button>\n                  <button\n                    onClick={handleSetupNext}\n                    disabled={!setupConfig.aiModels.primary}\n                    className=\"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-300\"\n                  >\n                    Next\n                  </button>\n                </div>\n              </div>\n            )}\n\n            {/* Data Source Configuration Step */}\n            {setupStep === 'data-source' && (\n              <div className=\"bg-white rounded-xl shadow-sm border p-8\">\n                <h3 className=\"text-xl font-semibold mb-6 flex items-center\">\n                  <Database className=\"h-5 w-5 mr-2 text-blue-600\" />\n                  Data Source & RAG Configuration\n                </h3>\n\n                <div className=\"space-y-8\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-4\">\n                      Select Data Source for RAG\n                    </label>\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n                      {dataSourceTypes.map(source => (\n                        <div\n                          key={source.id}\n                          onClick={() => setSetupConfig(prev => ({\n                            ...prev,\n                            dataSource: { ...prev.dataSource, type: source.id }\n                          }))}\n                          className={`p-4 border rounded-lg cursor-pointer transition-colors ${\n                            setupConfig.dataSource.type === source.id\n                              ? 'border-blue-500 bg-blue-50'\n                              : 'border-gray-300 hover:border-gray-400'\n                          }`}\n                        >\n                          <div className=\"flex items-center space-x-3 mb-2\">\n                            {source.icon}\n                            <h4 className=\"font-medium text-gray-900\">{source.name}</h4>\n                          </div>\n                          <p className=\"text-sm text-gray-600\">{source.description}</p>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n\n                  {setupConfig.dataSource.type === 'googleDrive' && (\n                    <div className=\"border-t pt-6\">\n                      <h4 className=\"text-lg font-medium mb-4\">Google Drive Configuration</h4>\n                      <div className=\"space-y-4\">\n                        <div>\n                          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                            Folder ID or Shared Drive ID\n                          </label>\n                          <input\n                            type=\"text\"\n                            value={setupConfig.dataSource.config.googleDrive.folderId}\n                            onChange={(e) => setSetupConfig(prev => ({\n                              ...prev,\n                              dataSource: {\n                                ...prev.dataSource,\n                                config: {\n                                  ...prev.dataSource.config,\n                                  googleDrive: { ...prev.dataSource.config.googleDrive, folderId: e.target.value }\n                                }\n                              }\n                            }))}\n                            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                            placeholder=\"1BxiMVs0XRA5nFMdKvBdBZjgmUUqptlbs74OgvE2upms\"\n                          />\n                        </div>\n                      </div>\n                    </div>\n                  )}\n\n                  <div className=\"border-t pt-6\">\n                    <h4 className=\"text-lg font-medium mb-4\">RAG System Settings</h4>\n                    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                      <div>\n                        <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                          Chunk Size\n                        </label>\n                        <input\n                          type=\"number\"\n                          value={setupConfig.dataSource.ragSettings.chunkSize}\n                          onChange={(e) => setSetupConfig(prev => ({\n                            ...prev,\n                            dataSource: {\n                              ...prev.dataSource,\n                              ragSettings: { ...prev.dataSource.ragSettings, chunkSize: parseInt(e.target.value) }\n                            }\n                          }))}\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                          placeholder=\"1000\"\n                        />\n                      </div>\n                      <div>\n                        <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                          Overlap\n                        </label>\n                        <input\n                          type=\"number\"\n                          value={setupConfig.dataSource.ragSettings.overlap}\n                          onChange={(e) => setSetupConfig(prev => ({\n                            ...prev,\n                            dataSource: {\n                              ...prev.dataSource,\n                              ragSettings: { ...prev.dataSource.ragSettings, overlap: parseInt(e.target.value) }\n                            }\n                          }))}\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                          placeholder=\"200\"\n                        />\n                      </div>\n                      <div>\n                        <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                          Vector Store\n                        </label>\n                        <select\n                          value={setupConfig.dataSource.ragSettings.vectorStore}\n                          onChange={(e) => setSetupConfig(prev => ({\n                            ...prev,\n                            dataSource: {\n                              ...prev.dataSource,\n                              ragSettings: { ...prev.dataSource.ragSettings, vectorStore: e.target.value }\n                            }\n                          }))}\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                        >\n                          <option value=\"chromadb\">ChromaDB</option>\n                          <option value=\"pinecone\">Pinecone</option>\n                          <option value=\"weaviate\">Weaviate</option>\n                          <option value=\"qdrant\">Qdrant</option>\n                        </select>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"flex justify-between mt-8\">\n                  <button\n                    onClick={handleSetupPrev}\n                    className=\"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50\"\n                  >\n                    Previous\n                  </button>\n                  <button\n                    onClick={handleSetupNext}\n                    disabled={!setupConfig.dataSource.type}\n                    className=\"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-300\"\n                  >\n                    Next\n                  </button>\n                </div>\n              </div>\n            )}\n\n            {/* Onboarding Configuration Step */}\n            {setupStep === 'onboarding' && (\n              <div className=\"bg-white rounded-xl shadow-sm border p-8\">\n                <h3 className=\"text-xl font-semibold mb-6 flex items-center\">\n                  <UserPlus className=\"h-5 w-5 mr-2 text-blue-600\" />\n                  Onboarding Configuration\n                </h3>\n\n                <div className=\"space-y-6\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                      Default Onboarding Trainings\n                    </label>\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\n                      {trainingTypes.map(type => (\n                        <label key={type} className=\"flex items-center space-x-2\">\n                          <input\n                            type=\"checkbox\"\n                            checked={setupConfig.onboarding.defaultTrainings.includes(type)}\n                            onChange={(e) => {\n                              const trainings = e.target.checked\n                                ? [...setupConfig.onboarding.defaultTrainings, type]\n                                : setupConfig.onboarding.defaultTrainings.filter(t => t !== type);\n                              setSetupConfig(prev => ({\n                                ...prev,\n                                onboarding: { ...prev.onboarding, defaultTrainings: trainings }\n                              }));\n                            }}\n                            className=\"rounded border-gray-300 text-blue-600 focus:ring-blue-500\"\n                          />\n                          <span className=\"text-sm text-gray-700\">{type}</span>\n                        </label>\n                      ))}\n                    </div>\n                  </div>\n\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                        Probation Period (Days)\n                      </label>\n                      <input\n                        type=\"number\"\n                        value={setupConfig.onboarding.probationPeriod}\n                        onChange={(e) => setSetupConfig(prev => ({\n                          ...prev,\n                          onboarding: { ...prev.onboarding, probationPeriod: parseInt(e.target.value) }\n                        }))}\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                        placeholder=\"90\"\n                      />\n                    </div>\n\n                    <div>\n                      <label className=\"flex items-center space-x-2\">\n                        <input\n                          type=\"checkbox\"\n                          checked={setupConfig.onboarding.mentorAssignment}\n                          onChange={(e) => setSetupConfig(prev => ({\n                            ...prev,\n                            onboarding: { ...prev.onboarding, mentorAssignment: e.target.checked }\n                          }))}\n                          className=\"rounded border-gray-300 text-blue-600 focus:ring-blue-500\"\n                        />\n                        <span className=\"text-sm font-medium text-gray-700\">\n                          Automatic Mentor Assignment\n                        </span>\n                      </label>\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"flex justify-between mt-8\">\n                  <button\n                    onClick={handleSetupPrev}\n                    className=\"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50\"\n                  >\n                    Previous\n                  </button>\n                  <button\n                    onClick={handleSetupNext}\n                    className=\"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\"\n                  >\n                    Complete Setup\n                  </button>\n                </div>\n              </div>\n            )}\n\n            {/* Setup Complete Step */}\n            {setupStep === 'complete' && (\n              <div className=\"bg-white rounded-xl shadow-sm border p-8 text-center\">\n                <div className=\"mb-6\">\n                  <CheckCircle className=\"h-16 w-16 text-green-600 mx-auto mb-4\" />\n                  <h3 className=\"text-2xl font-bold text-gray-900 mb-2\">Setup Complete!</h3>\n                  <p className=\"text-gray-600 max-w-2xl mx-auto\">\n                    Your Line Smart platform is now configured and ready to use. Your company data will be processed \n                    for RAG-powered training generation, and supervisors can create personalized training experiences.\n                  </p>\n                </div>\n\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\n                  <div className=\"bg-blue-50 p-4 rounded-lg\">\n                    <h4 className=\"font-semibold text-blue-900 mb-2\">Company: {setupConfig.company.name}</h4>\n                    <p className=\"text-sm text-blue-800\">{setupConfig.company.industry} â€¢ {setupConfig.company.size}</p>\n                  </div>\n                  <div className=\"bg-green-50 p-4 rounded-lg\">\n                    <h4 className=\"font-semibold text-green-900 mb-2\">AI Model: {setupConfig.aiModels.primary}</h4>\n                    <p className=\"text-sm text-green-800\">RAG Enabled with {setupConfig.dataSource.type}</p>\n                  </div>\n                  <div className=\"bg-purple-50 p-4 rounded-lg\">\n                    <h4 className=\"font-semibold text-purple-900 mb-2\">Languages: {setupConfig.company.supportedLanguages.length + 1}</h4>\n                    <p className=\"text-sm text-purple-800\">Multi-language support enabled</p>\n                  </div>\n                </div>\n\n                <div className=\"flex justify-center space-x-4\">\n                  <button\n                    onClick={() => setCurrentView('dashboard')}\n                    className=\"px-8 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center space-x-2\"\n                  >\n                    <Users className=\"h-4 w-4\" />\n                    <span>Go to Dashboard</span>\n                  </button>\n                  <button\n                    onClick={() => setCurrentView('create')}\n                    className=\"px-8 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center space-x-2\"\n                  >\n                    <Plus className=\"h-4 w-4\" />\n                    <span>Create Training</span>\n                  </button>\n                </div>\n              </div>\n            )}\n          </div>\n        )}\n\n        {/* Navigation for other views */}\n        {currentView !== 'setup' && completedSetup && (\n          <div className=\"flex space-x-1 bg-gray-100 p-1 rounded-lg mb-8 w-fit\">\n            <button\n              onClick={() => setCurrentView('dashboard')}\n              className={`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${\n                currentView === 'dashboard' \n                  ? 'bg-white text-blue-600 shadow-sm' \n                  : 'text-gray-600 hover:text-gray-900'\n              }`}\n            >\n              <Users className=\"h-4 w-4 inline mr-2\" />\n              Employee Dashboard\n            </button>\n            <button\n              onClick={() => setCurrentView('create')}\n              className={`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${\n                currentView === 'create' \n                  ? 'bg-white text-blue-600 shadow-sm' \n                  : 'text-gray-600 hover:text-gray-900'\n              }`}\n            >\n              <Plus className=\"h-4 w-4 inline mr-2\" />\n              Create Training\n            </button>\n            <button\n              onClick={() => setShowRAGManager(true)}\n              className=\"px-4 py-2 rounded-lg text-sm font-medium transition-colors text-gray-600 hover:text-gray-900 hover:bg-white\"\n            >\n              <Database className=\"h-4 w-4 inline mr-2\" />\n              RAG Documents\n            </button>\n            <button\n              onClick={() => setCurrentView('quiz')}\n              className={`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${\n                currentView === 'quiz' \n                  ? 'bg-white text-blue-600 shadow-sm' \n                  : 'text-gray-600 hover:text-gray-900'\n              } ${!generatedTraining ? 'opacity-50 cursor-not-allowed' : ''}`}\n              disabled={!generatedTraining}\n            >\n              <Award className=\"h-4 w-4 inline mr-2\" />\n              Take Quiz\n            </button>\n            <button\n              onClick={() => setCurrentView('review')}\n              className={`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${\n                currentView === 'review' \n                  ? 'bg-white text-blue-600 shadow-sm' \n                  : 'text-gray-600 hover:text-gray-900'\n              } ${!generatedTraining ? 'opacity-50 cursor-not-allowed' : ''}`}\n              disabled={!generatedTraining}\n            >\n              <Eye className=\"h-4 w-4 inline mr-2\" />\n              Review Training\n            </button>\n          </div>\n        )}\n\n        {/* Dashboard View */}\n        {currentView === 'dashboard' && completedSetup && (\n          <div className=\"space-y-8\">\n            {/* Stats Cards */}\n            <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\n              <div className=\"bg-white p-6 rounded-xl shadow-sm border\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-sm text-gray-600\">Total Employees</p>\n                    <p className=\"text-2xl font-bold text-gray-900\">{stats.totalEmployees}</p>\n                  </div>\n                  <Users className=\"h-8 w-8 text-blue-600\" />\n                </div>\n              </div>\n              <div className=\"bg-white p-6 rounded-xl shadow-sm border\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-sm text-gray-600\">Avg. Completion</p>\n                    <p className=\"text-2xl font-bold text-gray-900\">{stats.avgCompletion}%</p>\n                  </div>\n                  <Target className=\"h-8 w-8 text-green-600\" />\n                </div>\n              </div>\n              <div className=\"bg-white p-6 rounded-xl shadow-sm border\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-sm text-gray-600\">Active Trainings</p>\n                    <p className=\"text-2xl font-bold text-gray-900\">{stats.activeTrainings}</p>\n                  </div>\n                  <BookOpen className=\"h-8 w-8 text-orange-600\" />\n                </div>\n              </div>\n              <div className=\"bg-white p-6 rounded-xl shadow-sm border\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-sm text-gray-600\">Avg. Performance</p>\n                    <p className=\"text-2xl font-bold text-gray-900\">{stats.avgPerformance}%</p>\n                  </div>\n                  <TrendingUp className=\"h-8 w-8 text-purple-600\" />\n                </div>\n              </div>\n            </div>\n\n            {/* Employee Management */}\n            <div className=\"bg-white rounded-xl shadow-sm border p-6\">\n              <div className=\"flex justify-between items-center mb-6\">\n                <h2 className=\"text-xl font-semibold\">Supervised Employee Management</h2>\n                <div className=\"flex items-center space-x-4\">\n                  <button\n                    onClick={() => setShowAddEmployee(true)}\n                    className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center space-x-2\"\n                  >\n                    <UserPlus className=\"h-4 w-4\" />\n                    <span>Add Employee</span>\n                  </button>\n                  <select\n                    value={filterDepartment}\n                    onChange={(e) => setFilterDepartment(e.target.value)}\n                    className=\"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                  >\n                    <option value=\"all\">All Departments</option>\n                    {standardDepartments.map(dept => (\n                      <option key={dept} value={dept}>{dept}</option>\n                    ))}\n                  </select>\n                </div>\n              </div>\n\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n                {filteredEmployees.map(employee => (\n                  <div key={employee.id} className=\"border rounded-lg p-4 hover:shadow-md transition-shadow\">\n                    <div className=\"flex justify-between items-start mb-3\">\n                      <div>\n                        <h3 className=\"font-semibold text-gray-900\">{employee.name}</h3>\n                        <p className=\"text-sm text-gray-600\">{employee.position}</p>\n                        <p className=\"text-xs text-gray-500\">{employee.department}</p>\n                        <div className=\"flex items-center space-x-2 mt-1\">\n                          <span className=\"text-xs bg-gray-100 px-2 py-1 rounded\">\n                            {getLanguageName(employee.preferredLanguage)}\n                          </span>\n                          {employee.role === 'supervisor' && (\n                            <span className=\"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded\">\n                              Supervisor\n                            </span>\n                          )}\n                        </div>\n                      </div>\n                      <button\n                        onClick={() => setSelectedEmployee(employee)}\n                        className=\"text-blue-600 hover:text-blue-800\"\n                      >\n                        <Edit3 className=\"h-4 w-4\" />\n                      </button>\n                    </div>\n\n                    <div className=\"space-y-2 mb-4\">\n                      <div className=\"flex justify-between text-sm\">\n                        <span>Training Progress</span>\n                        <span>{employee.completedTrainings}/{employee.totalTrainings}</span>\n                      </div>\n                      <div className=\"w-full bg-gray-200 rounded-full h-2\">\n                        <div\n                          className=\"bg-blue-600 h-2 rounded-full\"\n                          style={{ \n                            width: `${employee.totalTrainings > 0 ? (employee.completedTrainings / employee.totalTrainings) * 100 : 0}%` \n                          }}\n                        ></div>\n                      </div>\n                      {employee.performance && (\n                        <div className=\"flex justify-between text-sm\">\n                          <span>Performance</span>\n                          <span className={`font-medium ${\n                            employee.performance >= 90 ? 'text-green-600' : \n                            employee.performance >= 80 ? 'text-yellow-600' : 'text-red-600'\n                          }`}>\n                            {employee.performance}%\n                          </span>\n                        </div>\n                      )}\n                    </div>\n\n                    <div className=\"space-y-2\">\n                      <h4 className=\"text-sm font-medium text-gray-700\">Recommended Trainings:</h4>\n                      {employee.recommendedTrainings.slice(0, 2).map((rec, index) => (\n                        <div key={index} className=\"text-xs bg-gray-50 p-2 rounded\">\n                          <div className=\"flex justify-between items-center\">\n                            <span className=\"font-medium\">{rec.title}</span>\n                            <span className={`px-2 py-1 rounded text-xs ${\n                              rec.priority === 'high' ? 'bg-red-100 text-red-800' :\n                              rec.priority === 'medium' ? 'bg-yellow-100 text-yellow-800' :\n                              'bg-green-100 text-green-800'\n                            }`}>\n                              {rec.priority}\n                            </span>\n                          </div>\n                          <p className=\"text-gray-600 mt-1\">{rec.reason}</p>\n                        </div>\n                      ))}\n                    </div>\n\n                    <div className=\"mt-4 pt-4 border-t\">\n                      <button\n                        onClick={() => {\n                          setSelectedEmployee(employee);\n                          setCurrentView('create');\n                        }}\n                        className=\"w-full py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm\"\n                      >\n                        Assign Training\n                      </button>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Create Training View */}\n        {currentView === 'create' && completedSetup && (\n          <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n            <div className=\"lg:col-span-2\">\n              <div className=\"bg-white rounded-xl shadow-sm border p-6\">\n                <h2 className=\"text-xl font-semibold mb-6 flex items-center\">\n                  <FileText className=\"h-5 w-5 mr-2 text-blue-600\" />\n                  Supervisor Training Development\n                  <span className=\"ml-3 text-sm text-gray-500\">\n                    ({currentUser?.name} - {currentUser?.department})\n                  </span>\n                </h2>\n\n                {/* Training Scope Selection */}\n                <div className=\"bg-blue-50 p-4 rounded-lg mb-6\">\n                  <h3 className=\"font-medium text-blue-900 mb-3\">Training Scope</h3>\n                  <div className=\"grid grid-cols-1 md:grid-cols-3 gap-3\">\n                    <label className={`flex items-center p-3 border rounded-lg cursor-pointer transition-colors ${\n                      trainingData.trainingScope === 'individual' ? 'border-blue-500 bg-blue-100' : 'border-gray-300'\n                    }`}>\n                      <input\n                        type=\"radio\"\n                        name=\"trainingScope\"\n                        value=\"individual\"\n                        checked={trainingData.trainingScope === 'individual'}\n                        onChange={(e) => setTrainingData(prev => ({...prev, trainingScope: e.target.value}))}\n                        className=\"sr-only\"\n                      />\n                      <div className=\"text-center w-full\">\n                        <Users className=\"h-5 w-5 mx-auto mb-1 text-blue-600\" />\n                        <span className=\"text-sm font-medium\">Individual Employee</span>\n                        <p className=\"text-xs text-gray-600 mt-1\">Assign to specific employees</p>\n                      </div>\n                    </label>\n                    \n                    <label className={`flex items-center p-3 border rounded-lg cursor-pointer transition-colors ${\n                      trainingData.trainingScope === 'department' ? 'border-blue-500 bg-blue-100' : 'border-gray-300'\n                    }`}>\n                      <input\n                        type=\"radio\"\n                        name=\"trainingScope\"\n                        value=\"department\"\n                        checked={trainingData.trainingScope === 'department'}\n                        onChange={(e) => setTrainingData(prev => ({...prev, trainingScope: e.target.value}))}\n                        className=\"sr-only\"\n                      />\n                      <div className=\"text-center w-full\">\n                        <Building className=\"h-5 w-5 mx-auto mb-1 text-blue-600\" />\n                        <span className=\"text-sm font-medium\">Department Wide</span>\n                        <p className=\"text-xs text-gray-600 mt-1\">All {currentUserDepartment} employees</p>\n                      </div>\n                    </label>\n\n                    <label className={`flex items-center p-3 border rounded-lg cursor-pointer transition-colors ${\n                      trainingData.trainingScope === 'company' ? 'border-blue-500 bg-blue-100' : 'border-gray-300'\n                    }`}>\n                      <input\n                        type=\"radio\"\n                        name=\"trainingScope\"\n                        value=\"company\"\n                        checked={trainingData.trainingScope === 'company'}\n                        onChange={(e) => setTrainingData(prev => ({...prev, trainingScope: e.target.value}))}\n                        className=\"sr-only\"\n                      />\n                      <div className=\"text-center w-full\">\n                        <Globe className=\"h-5 w-5 mx-auto mb-1 text-blue-600\" />\n                        <span className=\"text-sm font-medium\">Company Wide</span>\n                        <p className=\"text-xs text-gray-600 mt-1\">All employees (requires approval)</p>\n                      </div>\n                    </label>\n                  </div>\n                </div>\n\n                {/* RAG Analysis */}\n                <div className=\"bg-blue-50 p-4 rounded-lg mb-6\">\n                  <div className=\"flex items-center justify-between mb-3\">\n                    <h3 className=\"font-medium text-blue-900 flex items-center\">\n                      <FileSearch className=\"h-4 w-4 mr-2\" />\n                      RAG Analysis\n                    </h3>\n                    <button\n                      onClick={() => analyzeTrainingWithRAG(selectedEmployee, trainingData.trainingType)}\n                      disabled={isAnalyzing || !trainingData.trainingType}\n                      className=\"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 disabled:bg-gray-300 flex items-center space-x-1\"\n                    >\n                      {isAnalyzing ? (\n                        <>\n                          <div className=\"animate-spin h-3 w-3 border border-white border-t-transparent rounded-full\"></div>\n                          <span>Analyzing...</span>\n                        </>\n                      ) : (\n                        <>\n                          <Search className=\"h-3 w-3\" />\n                          <span>Analyze</span>\n                        </>\n                      )}\n                    </button>\n                  </div>\n                  {ragAnalysis ? (\n                    <div className=\"space-y-3\">\n                      <div>\n                        <h4 className=\"text-sm font-medium text-blue-800 mb-1\">Relevant Documents Found:</h4>\n                        <div className=\"flex flex-wrap gap-2\">\n                          {ragAnalysis.relevantDocuments.map((doc, index) => (\n                            <span key={index} className=\"px-2 py-1 bg-white text-blue-700 rounded text-xs\">\n                              {doc.name} ({Math.round(doc.relevance * 100)}%)\n                            </span>\n                          ))}\n                        </div>\n                      </div>\n                      <div>\n                        <h4 className=\"text-sm font-medium text-blue-800 mb-1\">Key Insights:</h4>\n                        <ul className=\"text-sm text-blue-700 space-y-1\">\n                          {ragAnalysis.suggestedContent.slice(0, 2).map((insight, index) => (\n                            <li key={index} className=\"flex items-start\">\n                              <span className=\"mr-2\">â€¢</span>\n                              <span>{insight}</span>\n                            </li>\n                          ))}\n                        </ul>\n                      </div>\n                    </div>\n                  ) : (\n                    <p className=\"text-sm text-blue-700\">Click \"Analyze\" to scan your company documents for relevant training content.</p>\n                  )}\n                </div>\n                \n                <div className=\"space-y-6\">\n                  {/* Basic Information with Language */}\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                        Training Title\n                      </label>\n                      <input\n                        type=\"text\"\n                        value={trainingData.title}\n                        onChange={(e) => setTrainingData(prev => ({...prev, title: e.target.value}))}\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                        placeholder=\"e.g., Equipment Safety Training\"\n                      />\n                    </div>\n                    \n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                        Training Language\n                      </label>\n                      <select\n                        value={trainingData.language}\n                        onChange={(e) => setTrainingData(prev => ({...prev, language: e.target.value}))}\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                      >\n                        {languages.map(lang => (\n                          <option key={lang.code} value={lang.code}>\n                            {lang.flag} {lang.name}\n                          </option>\n                        ))}\n                      </select>\n                    </div>\n                  </div>\n\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                        Department\n                      </label>\n                      <select\n                        value={trainingData.department}\n                        onChange={(e) => setTrainingData(prev => ({...prev, department: e.target.value}))}\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                      >\n                        <option value=\"\">Select Department</option>\n                        {trainingData.trainingScope === 'department' ? (\n                          <option value={currentUserDepartment}>{currentUserDepartment}</option>\n                        ) : (\n                          standardDepartments.map(dept => (\n                            <option key={dept} value={dept}>{dept}</option>\n                          ))\n                        )}\n                      </select>\n                    </div>\n\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                        Training Type\n                      </label>\n                      <select\n                        value={trainingData.trainingType}\n                        onChange={(e) => setTrainingData(prev => ({...prev, trainingType: e.target.value}))}\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                      >\n                        <option value=\"\">Select Training Type</option>\n                        {trainingTypes.map(type => (\n                          <option key={type} value={type}>{type}</option>\n                        ))}\n                      </select>\n                    </div>\n                  </div>\n\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                        Due Date\n                      </label>\n                      <input\n                        type=\"date\"\n                        value={trainingData.dueDate}\n                        onChange={(e) => setTrainingData(prev => ({...prev, dueDate: e.target.value}))}\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                      />\n                    </div>\n\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                        AI Model\n                      </label>\n                      <select\n                        value={trainingData.aiModel}\n                        onChange={(e) => setTrainingData(prev => ({...prev, aiModel: e.target.value}))}\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                      >\n                        <option value=\"primary\">Primary ({setupConfig.aiModels.primary})</option>\n                        <option value=\"secondary\">Secondary Model</option>\n                      </select>\n                    </div>\n                  </div>\n\n                  {/* Employee Assignment */}\n                  {trainingData.trainingScope === 'individual' && (\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                        Assign to Employees\n                        <span className=\"text-xs text-blue-600 ml-2\">\n                          (Showing your supervised employees and language preferences)\n                        </span>\n                      </label>\n                      <div className=\"max-h-40 overflow-y-auto border border-gray-300 rounded-lg p-3\">\n                        {supervisedEmployees.length > 0 ? supervisedEmployees.map(employee => (\n                          <label key={employee.id} className=\"flex items-center justify-between py-2 border-b border-gray-100 last:border-b-0\">\n                            <div className=\"flex items-center space-x-3\">\n                              <input\n                                type=\"checkbox\"\n                                checked={trainingData.assignedEmployees.includes(employee.id)}\n                                onChange={(e) => {\n                                  if (e.target.checked) {\n                                    setTrainingData(prev => ({\n                                      ...prev,\n                                      assignedEmployees: [...prev.assignedEmployees, employee.id]\n                                    }));\n                                  } else {\n                                    setTrainingData(prev => ({\n                                      ...prev,\n                                      assignedEmployees: prev.assignedEmployees.filter(id => id !== employee.id)\n                                    }));\n                                  }\n                                }}\n                                className=\"rounded border-gray-300 text-blue-600 focus:ring-blue-500\"\n                              />\n                              <div className=\"flex-1\">\n                                <span className=\"text-sm font-medium text-gray-900\">{employee.name}</span>\n                                <span className=\"text-xs text-gray-500 ml-2\">({employee.department} - {employee.position})</span>\n                              </div>\n                            </div>\n                            <div className=\"flex items-center space-x-2\">\n                              <span className=\"text-xs bg-gray-100 px-2 py-1 rounded\">\n                                {getLanguageName(employee.preferredLanguage)}\n                              </span>\n                              {employee.preferredLanguage !== trainingData.language && (\n                                <span className=\"text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded\">\n                                  âš ï¸ Language mismatch\n                                </span>\n                              )}\n                            </div>\n                          </label>\n                        )) : (\n                          <p className=\"text-sm text-gray-500 text-center py-4\">\n                            No supervised employees found. Contact admin to assign employees to your supervision.\n                          </p>\n                        )}\n                      </div>\n                      {selectedEmployee && (\n                        <p className=\"text-sm text-blue-600 mt-2\">\n                          Pre-selected: {selectedEmployee.name} ({getLanguageName(selectedEmployee.preferredLanguage)})\n                        </p>\n                      )}\n                    </div>\n                  )}\n\n                  {trainingData.trainingScope === 'department' && (\n                    <div className=\"bg-green-50 p-4 rounded-lg\">\n                      <h4 className=\"font-medium text-green-900 mb-2\">Department-Wide Training</h4>\n                      <p className=\"text-sm text-green-800 mb-3\">\n                        This training will be assigned to all employees in the {currentUserDepartment} department.\n                      </p>\n                      <div className=\"text-sm text-green-700\">\n                        <p className=\"font-medium mb-1\">Target Employees ({employees.filter(emp => emp.department === currentUserDepartment).length}):</p>\n                        <div className=\"space-y-1\">\n                          {employees.filter(emp => emp.department === currentUserDepartment).map(emp => (\n                            <div key={emp.id} className=\"flex justify-between items-center\">\n                              <span>{emp.name} - {emp.position}</span>\n                              <span className=\"text-xs bg-white px-2 py-1 rounded\">\n                                {getLanguageName(emp.preferredLanguage)}\n                              </span>\n                            </div>\n                          ))}\n                        </div>\n                      </div>\n                    </div>\n                  )}\n\n                  {trainingData.trainingScope === 'company' && (\n                    <div className=\"bg-yellow-50 p-4 rounded-lg border border-yellow-200\">\n                      <h4 className=\"font-medium text-yellow-900 mb-2\">âš ï¸ Company-Wide Training</h4>\n                      <p className=\"text-sm text-yellow-800 mb-3\">\n                        This training will be assigned to all employees across all departments and will require management approval.\n                      </p>\n                      <div className=\"text-sm text-yellow-700\">\n                        <p className=\"font-medium mb-1\">Total Employees: {employees.length}</p>\n                        <p className=\"text-xs\">Languages needed: {[...new Set(employees.map(emp => emp.preferredLanguage))].map(lang => getLanguageName(lang)).join(', ')}</p>\n                      </div>\n                    </div>\n                  )}\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                      Training Description\n                    </label>\n                    <textarea\n                      value={trainingData.description}\n                      onChange={(e) => setTrainingData(prev => ({...prev, description: e.target.value}))}\n                      rows={3}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                      placeholder=\"Provide specific details about individual requirements and expectations...\"\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                      Individual Learning Objectives\n                    </label>\n                    <textarea\n                      value={trainingData.objectives}\n                      onChange={(e) => setTrainingData(prev => ({...prev, objectives: e.target.value}))}\n                      rows={3}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                      placeholder=\"What should each assigned employee be able to do after completing this training?\"\n                    />\n                  </div>\n\n                  {/* Document Upload */}\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                      Supporting Documents\n                    </label>\n                    <div\n                      onClick={() => fileInputRef.current?.click()}\n                      className=\"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-blue-400 transition-colors cursor-pointer\"\n                    >\n                      <Upload className=\"h-8 w-8 text-gray-400 mx-auto mb-2\" />\n                      <p className=\"text-sm text-gray-600\">\n                        Upload employee-specific documents, procedures, and materials\n                      </p>\n                    </div>\n                    <input\n                      ref={fileInputRef}\n                      type=\"file\"\n                      multiple\n                      accept=\".pdf,.doc,.docx,.txt\"\n                      onChange={handleFileUpload}\n                      className=\"hidden\"\n                    />\n                    \n                    {trainingData.documents.length > 0 && (\n                      <div className=\"mt-4 space-y-2\">\n                        {trainingData.documents.map((doc, index) => (\n                          <div key={index} className=\"flex items-center justify-between bg-gray-50 p-3 rounded-lg\">\n                            <div className=\"flex items-center\">\n                              <FileText className=\"h-4 w-4 text-blue-600 mr-2\" />\n                              <span className=\"text-sm text-gray-700\">{doc.name}</span>\n                            </div>\n                            <button\n                              onClick={() => setTrainingData(prev => ({\n                                ...prev,\n                                documents: prev.documents.filter((_, i) => i !== index)\n                              }))}\n                              className=\"text-red-500 hover:text-red-700 text-sm\"\n                            >\n                              Remove\n                            </button>\n                          </div>\n                        ))}\n                      </div>\n                    )}\n                  </div>\n\n                  {/* Quiz Configuration */}\n                  <div className=\"border-t pt-6\">\n                    <h3 className=\"text-lg font-medium mb-4 flex items-center\">\n                      <CheckCircle className=\"h-5 w-5 mr-2 text-green-600\" />\n                      Automated Quiz Generation\n                    </h3>\n                    <div className=\"bg-green-50 p-4 rounded-lg mb-4\">\n                      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                        <div>\n                          <label className=\"block text-sm font-medium text-green-800 mb-1\">\n                            Quiz Questions\n                          </label>\n                          <select\n                            value={trainingData.quizConfig?.questionCount || 5}\n                            onChange={(e) => setTrainingData(prev => ({\n                              ...prev,\n                              quizConfig: { ...prev.quizConfig, questionCount: parseInt(e.target.value) }\n                            }))}\n                            className=\"w-full px-3 py-1 border border-green-300 rounded text-sm focus:ring-2 focus:ring-green-500\"\n                          >\n                            <option value={3}>3 Questions</option>\n                            <option value={5}>5 Questions</option>\n                            <option value={7}>7 Questions</option>\n                            <option value={10}>10 Questions</option>\n                          </select>\n                        </div>\n                        <div>\n                          <label className=\"block text-sm font-medium text-green-800 mb-1\">\n                            Passing Score\n                          </label>\n                          <select\n                            value={trainingData.quizConfig?.passingScore || 80}\n                            onChange={(e) => setTrainingData(prev => ({\n                              ...prev,\n                              quizConfig: { ...prev.quizConfig, passingScore: parseInt(e.target.value) }\n                            }))}\n                            className=\"w-full px-3 py-1 border border-green-300 rounded text-sm focus:ring-2 focus:ring-green-500\"\n                          >\n                            <option value={70}>70%</option>\n                            <option value={80}>80%</option>\n                            <option value={90}>90%</option>\n                            <option value={100}>100%</option>\n                          </select>\n                        </div>\n                        <div>\n                          <label className=\"block text-sm font-medium text-green-800 mb-1\">\n                            Question Style\n                          </label>\n                          <select\n                            value={trainingData.quizConfig?.style || 'mixed'}\n                            onChange={(e) => setTrainingData(prev => ({\n                              ...prev,\n                              quizConfig: { ...prev.quizConfig, style: e.target.value }\n                            }))}\n                            className=\"w-full px-3 py-1 border border-green-300 rounded text-sm focus:ring-2 focus:ring-green-500\"\n                          >\n                            <option value=\"mixed\">Mixed (Multiple Choice + Scenario)</option>\n                            <option value=\"multiple-choice\">Multiple Choice Only</option>\n                            <option value=\"scenario\">Scenario-Based</option>\n                            <option value=\"company-specific\">Company Policy Focus</option>\n                          </select>\n                        </div>\n                      </div>\n                      <div className=\"mt-3 text-sm text-green-800\">\n                        <p className=\"font-medium mb-1\">âœ… Quiz Features Included:</p>\n                        <div className=\"grid grid-cols-2 gap-2\">\n                          <span>â€¢ Company-specific questions</span>\n                          <span>â€¢ Instant feedback & explanations</span>\n                          <span>â€¢ Performance tracking</span>\n                          <span>â€¢ Retake capability</span>\n                          <span>â€¢ Supervisor notifications</span>\n                          <span>â€¢ Certification generation</span>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* API Status Indicator */}\n                  <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4\">\n                    <div className=\"flex items-center space-x-2 text-sm\">\n                      {(() => {\n                        const enabledModels = Object.entries(setupConfig.aiModels.configs).filter(([key, config]) => \n                          config.apiKey && key !== 'llama'\n                        );\n                        \n                        if (enabledModels.length > 0) {\n                          const [modelName] = enabledModels[0];\n                          return (\n                            <>\n                              <div className=\"w-2 h-2 bg-green-500 rounded-full\"></div>\n                              <span className=\"text-blue-800\">\n                                Will use your {modelName.toUpperCase()} API â€¢ Fallback: Free LLaMA\n                              </span>\n                            </>\n                          );\n                        } else {\n                          return (\n                            <>\n                              <div className=\"w-2 h-2 bg-blue-500 rounded-full\"></div>\n                              <span className=\"text-blue-800\">\n                                ðŸ¦™ Using free LLaMA API (no API key required)\n                              </span>\n                            </>\n                          );\n                        }\n                      })()}\n                    </div>\n                  </div>\n\n                  {/* Enhanced Generate Button */}\n                  <button\n                    onClick={generateTraining}\n                    disabled={!trainingData.title || !trainingData.department || !trainingData.trainingType || (trainingData.trainingScope === 'individual' && trainingData.assignedEmployees.length === 0) || isGenerating}\n                    className=\"w-full py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center justify-center space-x-2\"\n                  >\n                    {isGenerating ? (\n                      <>\n                        <div className=\"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full\"></div>\n                        <span>Generating Training + Quiz...</span>\n                      </>\n                    ) : (\n                      <>\n                        <Brain className=\"h-4 w-4\" />\n                        <span>Generate Training + Automated Quiz</span>\n                      </>\n                    )}\n                  </button>\n                </div>\n              </div>\n            </div>\n\n            {/* Enhanced Info Panel with Supervisor & Language Features */}\n            <div className=\"space-y-6\">\n              <div className=\"bg-green-50 rounded-xl p-6\">\n                <h3 className=\"text-lg font-semibold text-green-900 mb-3\">ðŸŽ¯ Supervisor Training Development</h3>\n                <div className=\"space-y-3 text-sm text-green-800\">\n                  <div className=\"flex items-center space-x-2\">\n                    <CheckCircle className=\"h-4 w-4\" />\n                    <span>Individual & department-wide training creation</span>\n                  </div>\n                  <div className=\"flex items-center space-x-2\">\n                    <CheckCircle className=\"h-4 w-4\" />\n                    <span>Multi-language support (10+ languages)</span>\n                  </div>\n                  <div className=\"flex items-center space-x-2\">\n                    <CheckCircle className=\"h-4 w-4\" />\n                    <span>Employee language preference matching</span>\n                  </div>\n                  <div className=\"flex items-center space-x-2\">\n                    <CheckCircle className=\"h-4 w-4\" />\n                    <span>Supervised employee management</span>\n                  </div>\n                  <div className=\"flex items-center space-x-2\">\n                    <CheckCircle className=\"h-4 w-4\" />\n                    <span>Company-wide training (with approval)</span>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"bg-purple-50 rounded-xl p-6\">\n                <h3 className=\"text-lg font-semibold text-purple-900 mb-3\">ðŸŒ Multi-Language Training</h3>\n                <div className=\"space-y-3 text-sm text-purple-800\">\n                  <div className=\"flex items-center space-x-2\">\n                    <span className=\"font-medium\">Current Language:</span>\n                    <span className=\"px-2 py-1 bg-white rounded\">\n                      {getLanguageName(trainingData.language)}\n                    </span>\n                  </div>\n                  <div className=\"text-xs\">\n                    <p className=\"font-medium mb-1\">Supported Languages:</p>\n                    <div className=\"flex flex-wrap gap-1\">\n                      {languages.slice(0, 5).map(lang => (\n                        <span key={lang.code} className=\"px-2 py-1 bg-white rounded text-xs\">\n                          {lang.flag} {lang.name}\n                        </span>\n                      ))}\n                      <span className=\"px-2 py-1 bg-white rounded text-xs\">+5 more</span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"bg-blue-50 rounded-xl p-6\">\n                <h3 className=\"text-lg font-semibold text-blue-900 mb-3\">ðŸ¤– RAG Features Active</h3>\n                <div className=\"space-y-3 text-sm text-blue-800\">\n                  <div className=\"flex items-center space-x-2\">\n                    <CheckCircle className=\"h-4 w-4\" />\n                    <span>Company document analysis</span>\n                  </div>\n                  <div className=\"flex items-center space-x-2\">\n                    <CheckCircle className=\"h-4 w-4\" />\n                    <span>Performance-based recommendations</span>\n                  </div>\n                  <div className=\"flex items-center space-x-2\">\n                    <CheckCircle className=\"h-4 w-4\" />\n                    <span>Multi-language policy integration</span>\n                  </div>\n                  <div className=\"flex items-center space-x-2\">\n                    <CheckCircle className=\"h-4 w-4\" />\n                    <span>Cultural context adaptation</span>\n                  </div>\n                </div>\n              </div>\n\n              {ragAnalysis && (\n                <div className=\"bg-yellow-50 rounded-xl p-6\">\n                  <h3 className=\"text-lg font-semibold text-yellow-900 mb-3\">AI Recommendations</h3>\n                  <div className=\"space-y-3\">\n                    {ragAnalysis.recommendedTrainings.map((rec, index) => (\n                      <div key={index} className=\"bg-white p-3 rounded border-l-4 border-yellow-400\">\n                        <h4 className=\"font-medium text-yellow-900\">{rec.title}</h4>\n                        <p className=\"text-sm text-yellow-800 mt-1\">{rec.reason}</p>\n                        <div className=\"flex justify-between items-center mt-2\">\n                          <span className={`px-2 py-1 rounded text-xs ${\n                            rec.priority === 'high' ? 'bg-red-100 text-red-800' :\n                            rec.priority === 'medium' ? 'bg-yellow-100 text-yellow-800' :\n                            'bg-green-100 text-green-800'\n                          }`}>\n                            {rec.priority} priority\n                          </span>\n                          <span className=\"text-xs text-gray-600\">{rec.estimatedDuration}</span>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n        )}\n\n        {/* Review Training View */}\n        {currentView === 'review' && generatedTraining && (\n          <div className=\"max-w-4xl mx-auto\">\n            <div className=\"bg-white rounded-xl shadow-sm border p-8\">\n              <div className=\"flex justify-between items-start mb-6\">\n                <div>\n                  <h2 className=\"text-2xl font-bold text-gray-900\">{trainingData.title}</h2>\n                  <p className=\"text-gray-600\">{trainingData.department} â€¢ {trainingData.trainingType}</p>\n                  <p className=\"text-sm text-blue-600 mt-1\">\n                    Language: {getLanguageName(trainingData.language)} â€¢ Scope: {trainingData.trainingScope}\n                  </p>\n                </div>\n                <div className=\"flex space-x-3\">\n                  <button\n                    onClick={startQuiz}\n                    className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center space-x-2\"\n                  >\n                    <Play className=\"h-4 w-4\" />\n                    <span>Start Quiz</span>\n                  </button>\n                  <button className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center space-x-2\">\n                    <Download className=\"h-4 w-4\" />\n                    <span>Export</span>\n                  </button>\n                </div>\n              </div>\n\n              {/* Training Content Display */}\n              <div className=\"mb-8\">\n                <h3 className=\"text-xl font-semibold mb-3\">Introduction</h3>\n                <p className=\"text-gray-700 leading-relaxed\">{generatedTraining.training.introduction}</p>\n              </div>\n\n              <div className=\"space-y-8\">\n                {generatedTraining.training.sections.map((section, index) => (\n                  <div key={index} className=\"border-l-4 border-blue-500 pl-6\">\n                    <h3 className=\"text-xl font-semibold mb-3\">{section.title}</h3>\n                    <p className=\"text-gray-700 mb-4 leading-relaxed\">{section.content}</p>\n                    <div className=\"bg-blue-50 p-4 rounded-lg\">\n                      <h4 className=\"font-medium text-blue-900 mb-2\">Key Points:</h4>\n                      <ul className=\"list-disc list-inside space-y-1 text-blue-800\">\n                        {section.keyPoints.map((point, pointIndex) => (\n                          <li key={pointIndex}>{point}</li>\n                        ))}\n                      </ul>\n                    </div>\n                  </div>\n                ))}\n              </div>\n\n              {/* Safety, Best Practices, Common Mistakes sections */}\n              <div className=\"mt-8 bg-red-50 p-6 rounded-lg\">\n                <h3 className=\"text-xl font-semibold text-red-900 mb-4 flex items-center\">\n                  <AlertCircle className=\"h-5 w-5 mr-2\" />\n                  Individual Safety Responsibilities\n                </h3>\n                <ul className=\"list-disc list-inside space-y-2 text-red-800\">\n                  {generatedTraining.training.safetyNotes.map((note, index) => (\n                    <li key={index}>{note}</li>\n                  ))}\n                </ul>\n              </div>\n\n              <div className=\"mt-6 bg-green-50 p-6 rounded-lg\">\n                <h3 className=\"text-xl font-semibold text-green-900 mb-4\">Personal Best Practices</h3>\n                <ul className=\"list-disc list-inside space-y-2 text-green-800\">\n                  {generatedTraining.training.bestPractices.map((practice, index) => (\n                    <li key={index}>{practice}</li>\n                  ))}\n                </ul>\n              </div>\n\n              <div className=\"mt-6 bg-yellow-50 p-6 rounded-lg\">\n                <h3 className=\"text-xl font-semibold text-yellow-900 mb-4\">Common Individual Mistakes to Avoid</h3>\n                <ul className=\"list-disc list-inside space-y-2 text-yellow-800\">\n                  {generatedTraining.training.commonMistakes.map((mistake, index) => (\n                    <li key={index}>{mistake}</li>\n                  ))}\n                </ul>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Quiz Taking View */}\n        {currentView === 'quiz' && generatedTraining && (\n          <div className=\"max-w-3xl mx-auto\">\n            <div className=\"bg-white rounded-xl shadow-sm border p-8\">\n              <div className=\"flex justify-between items-center mb-6\">\n                <h2 className=\"text-2xl font-bold text-gray-900 flex items-center\">\n                  <CheckCircle className=\"h-6 w-6 mr-2 text-green-600\" />\n                  Knowledge Assessment Quiz\n                </h2>\n                <div className=\"text-right\">\n                  <span className=\"text-sm text-gray-500\">\n                    Question {currentQuestionIndex + 1} of {generatedTraining.quiz.length}\n                  </span>\n                  <div className=\"text-xs text-blue-600 mt-1\">\n                    Passing Score: {trainingData.quizConfig?.passingScore || 80}%\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"mb-8\">\n                <div className=\"w-full bg-gray-200 rounded-full h-2 mb-6\">\n                  <div\n                    className=\"bg-blue-600 h-2 rounded-full transition-all duration-300\"\n                    style={{ width: `${((currentQuestionIndex + 1) / generatedTraining.quiz.length) * 100}%` }}\n                  ></div>\n                </div>\n\n                <div className=\"question-container\">\n                  <div className=\"mb-4\">\n                    <span className=\"inline-block px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium\">\n                      {generatedTraining.quiz[currentQuestionIndex].type || 'Company Policy'}\n                    </span>\n                    {generatedTraining.quiz[currentQuestionIndex].ragSource && (\n                      <span className=\"inline-block ml-2 px-3 py-1 bg-green-100 text-green-800 rounded-full text-xs\">\n                        Source: {generatedTraining.quiz[currentQuestionIndex].ragSource}\n                      </span>\n                    )}\n                  </div>\n                  \n                  <h3 className=\"text-lg font-medium mb-6\">\n                    {generatedTraining.quiz[currentQuestionIndex].question}\n                  </h3>\n\n                  <div className=\"space-y-3\">\n                    {generatedTraining.quiz[currentQuestionIndex].options.map((option, index) => (\n                      <label\n                        key={index}\n                        className={`block p-4 border rounded-lg cursor-pointer transition-colors ${\n                          userAnswers[currentQuestionIndex] === index\n                            ? 'border-blue-500 bg-blue-50'\n                            : 'border-gray-300 hover:border-gray-400'\n                        }`}\n                      >\n                        <input\n                          type=\"radio\"\n                          name={`question-${currentQuestionIndex}`}\n                          value={index}\n                          checked={userAnswers[currentQuestionIndex] === index}\n                          onChange={() => handleAnswerSelect(currentQuestionIndex, index)}\n                          className=\"sr-only\"\n                        />\n                        <span className=\"text-gray-700\">{option}</span>\n                      </label>\n                    ))}\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"flex justify-between\">\n                <button\n                  onClick={() => setCurrentQuestionIndex(Math.max(0, currentQuestionIndex - 1))}\n                  disabled={currentQuestionIndex === 0}\n                  className=\"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\n                >\n                  Previous\n                </button>\n\n                {currentQuestionIndex === generatedTraining.quiz.length - 1 ? (\n                  <button\n                    onClick={submitQuiz}\n                    disabled={Object.keys(userAnswers).length !== generatedTraining.quiz.length}\n                    className=\"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center space-x-2\"\n                  >\n                    <Award className=\"h-4 w-4\" />\n                    <span>Submit Quiz</span>\n                  </button>\n                ) : (\n                  <button\n                    onClick={() => setCurrentQuestionIndex(Math.min(generatedTraining.quiz.length - 1, currentQuestionIndex + 1))}\n                    className=\"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\"\n                  >\n                    Next\n                  </button>\n                )}\n              </div>\n\n              {/* Quiz Help Panel */}\n              <div className=\"mt-8 bg-yellow-50 p-4 rounded-lg\">\n                <h4 className=\"font-medium text-yellow-900 mb-2\">Quiz Information</h4>\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-yellow-800\">\n                  <div>\n                    <span className=\"font-medium\">Questions:</span> {generatedTraining.quiz.length}\n                  </div>\n                  <div>\n                    <span className=\"font-medium\">Passing Score:</span> {trainingData.quizConfig?.passingScore || 80}%\n                  </div>\n                  <div>\n                    <span className=\"font-medium\">Retakes:</span> Unlimited\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Enhanced Results View */}\n        {currentView === 'results' && quizResults && (\n          <div className=\"max-w-4xl mx-auto\">\n            <div className=\"bg-white rounded-xl shadow-sm border p-8\">\n              <div className=\"text-center mb-8\">\n                <div className={`inline-flex items-center justify-center w-16 h-16 rounded-full mb-4 ${\n                  quizResults.passed ? 'bg-green-100 text-green-600' : 'bg-red-100 text-red-600'\n                }`}>\n                  {quizResults.passed ? (\n                    <Award className=\"h-8 w-8\" />\n                  ) : (\n                    <AlertCircle className=\"h-8 w-8\" />\n                  )}\n                </div>\n                <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">\n                  {quizResults.passed ? 'Training Completed Successfully!' : 'Training Needs Review'}\n                </h2>\n                <p className=\"text-gray-600 mb-4\">\n                  You scored {quizResults.score} out of {quizResults.total} ({quizResults.percentage}%)\n                </p>\n                <div className={`inline-block px-4 py-2 rounded-full text-sm font-medium ${\n                  quizResults.passed \n                    ? 'bg-green-100 text-green-800' \n                    : 'bg-red-100 text-red-800'\n                }`}>\n                  {quizResults.passed ? 'PASSED' : `FAILED - Minimum ${trainingData.quizConfig?.passingScore || 80}% required`}\n                </div>\n                \n                {quizResults.passed && (\n                  <div className=\"mt-4 p-4 bg-blue-50 rounded-lg\">\n                    <h3 className=\"font-medium text-blue-900 mb-2\">ðŸŽ‰ Certification Earned</h3>\n                    <p className=\"text-sm text-blue-800\">\n                      Certificate will be automatically added to employee training record\n                    </p>\n                  </div>\n                )}\n              </div>\n\n              <div className=\"space-y-6\">\n                <h3 className=\"text-lg font-semibold\">Detailed Results</h3>\n                {quizResults.results.map((result, index) => (\n                  <div key={index} className={`p-6 rounded-lg border-l-4 ${\n                    result.isCorrect ? 'border-green-500 bg-green-50' : 'border-red-500 bg-red-50'\n                  }`}>\n                    <div className=\"flex items-start justify-between mb-2\">\n                      <h4 className=\"font-medium text-gray-900\">Question {index + 1}</h4>\n                      <div className=\"flex items-center space-x-2\">\n                        <span className={`text-sm font-medium ${\n                          result.isCorrect ? 'text-green-600' : 'text-red-600'\n                        }`}>\n                          {result.isCorrect ? 'Correct' : 'Incorrect'}\n                        </span>\n                        {generatedTraining.quiz[index].ragSource && (\n                          <span className=\"px-2 py-1 bg-gray-100 text-gray-600 rounded text-xs\">\n                            Source: {generatedTraining.quiz[index].ragSource}\n                          </span>\n                        )}\n                      </div>\n                    </div>\n                    <p className=\"text-gray-700 mb-3\">{result.question}</p>\n                    {!result.isCorrect && (\n                      <div className=\"mb-3 space-y-1\">\n                        <p className=\"text-sm text-red-700\">\n                          <strong>Your answer:</strong> {generatedTraining.quiz[index].options[result.userAnswer]}\n                        </p>\n                        <p className=\"text-sm text-green-700\">\n                          <strong>Correct answer:</strong> {generatedTraining.quiz[index].options[result.correctAnswer]}\n                        </p>\n                      </div>\n                    )}\n                    <div className=\"bg-white p-3 rounded border\">\n                      <p className=\"text-sm text-gray-600\">\n                        <strong>Explanation:</strong> {result.explanation}\n                      </p>\n                    </div>\n                  </div>\n                ))}\n              </div>\n\n              <div className=\"flex justify-center space-x-4 mt-8\">\n                <button\n                  onClick={() => setCurrentView('review')}\n                  className=\"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 flex items-center space-x-2\"\n                >\n                  <Eye className=\"h-4 w-4\" />\n                  <span>Review Training</span>\n                </button>\n                {!quizResults.passed && (\n                  <button\n                    onClick={() => {\n                      setCurrentQuestionIndex(0);\n                      setUserAnswers({});\n                      setQuizResults(null);\n                      setCurrentView('quiz');\n                    }}\n                    className=\"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center space-x-2\"\n                  >\n                    <Play className=\"h-4 w-4\" />\n                    <span>Retake Quiz</span>\n                  </button>\n                )}\n                <button\n                  onClick={() => {\n                    // Simulate saving results and returning to dashboard\n                    setCurrentView('dashboard');\n                    // Update employee record with completed training\n                    if (selectedEmployee && quizResults.passed) {\n                      setEmployees(prev => prev.map(emp => \n                        emp.id === selectedEmployee.id \n                          ? {\n                              ...emp,\n                              completedTrainings: emp.completedTrainings + 1,\n                              lastTraining: new Date().toISOString().split('T')[0],\n                              trainingHistory: [\n                                {\n                                  id: emp.trainingHistory.length + 1,\n                                  title: trainingData.title,\n                                  date: new Date().toISOString().split('T')[0],\n                                  score: quizResults.percentage,\n                                  status: 'completed',\n                                  language: trainingData.language,\n                                  ragSources: ragAnalysis ? ragAnalysis.relevantDocuments.map(doc => doc.name) : []\n                                },\n                                ...emp.trainingHistory\n                              ]\n                            }\n                          : emp\n                      ));\n                    }\n                  }}\n                  className=\"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center space-x-2\"\n                >\n                  <CheckCircle className=\"h-4 w-4\" />\n                  <span>{quizResults.passed ? 'Complete Training' : 'Save Progress'}</span>\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Add Employee Modal */}\n        {showAddEmployee && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n            <div className=\"bg-white rounded-xl shadow-lg max-w-md w-full mx-4\">\n              <div className=\"p-6 border-b\">\n                <div className=\"flex justify-between items-center\">\n                  <h2 className=\"text-xl font-bold text-gray-900\">Add New Employee</h2>\n                  <button\n                    onClick={() => setShowAddEmployee(false)}\n                    className=\"text-gray-500 hover:text-gray-700\"\n                  >\n                    âœ•\n                  </button>\n                </div>\n              </div>\n\n              <div className=\"p-6 space-y-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Full Name\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={newEmployee.name}\n                    onChange={(e) => setNewEmployee(prev => ({...prev, name: e.target.value}))}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                    placeholder=\"Enter employee name\"\n                  />\n                </div>\n\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      Department\n                    </label>\n                    <select\n                      value={newEmployee.department}\n                      onChange={(e) => setNewEmployee(prev => ({...prev, department: e.target.value}))}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                    >\n                      <option value=\"\">Select</option>\n                      {standardDepartments.map(dept => (\n                        <option key={dept} value={dept}>{dept}</option>\n                      ))}\n                    </select>\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      Position\n                    </label>\n                    <input\n                      type=\"text\"\n                      value={newEmployee.position}\n                      onChange={(e) => setNewEmployee(prev => ({...prev, position: e.target.value}))}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                      placeholder=\"Job title\"\n                    />\n                  </div>\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Email Address\n                  </label>\n                  <input\n                    type=\"email\"\n                    value={newEmployee.email}\n                    onChange={(e) => setNewEmployee(prev => ({...prev, email: e.target.value}))}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                    placeholder=\"employee@company.com\"\n                  />\n                </div>\n\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      Hire Date\n                    </label>\n                    <input\n                      type=\"date\"\n                      value={newEmployee.hireDate}\n                      onChange={(e) => setNewEmployee(prev => ({...prev, hireDate: e.target.value}))}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      Preferred Language\n                    </label>\n                    <select\n                      value={newEmployee.preferredLanguage}\n                      onChange={(e) => setNewEmployee(prev => ({...prev, preferredLanguage: e.target.value}))}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                    >\n                      {languages.map(lang => (\n                        <option key={lang.code} value={lang.code}>\n                          {lang.flag} {lang.name}\n                        </option>\n                      ))}\n                    </select>\n                  </div>\n                </div>\n\n                <div className=\"flex space-x-3 pt-4\">\n                  <button\n                    onClick={() => setShowAddEmployee(false)}\n                    className=\"flex-1 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50\"\n                  >\n                    Cancel\n                  </button>\n                  <button\n                    onClick={addNewEmployee}\n                    disabled={!newEmployee.name || !newEmployee.department || !newEmployee.position}\n                    className=\"flex-1 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-300\"\n                  >\n                    Add Employee\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Selected Employee Detail Modal */}\n        {selectedEmployee && currentView === 'dashboard' && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n            <div className=\"bg-white rounded-xl shadow-lg max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto\">\n              <div className=\"p-6 border-b\">\n                <div className=\"flex justify-between items-center\">\n                  <div>\n                    <h2 className=\"text-2xl font-bold text-gray-900\">{selectedEmployee.name}</h2>\n                    <p className=\"text-gray-600\">{selectedEmployee.position} â€¢ {selectedEmployee.department}</p>\n                    <div className=\"flex items-center space-x-2 mt-2\">\n                      <span className=\"text-xs bg-gray-100 px-2 py-1 rounded\">\n                        {getLanguageName(selectedEmployee.preferredLanguage)}\n                      </span>\n                      {selectedEmployee.role === 'supervisor' && (\n                        <span className=\"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded\">\n                          Supervisor\n                        </span>\n                      )}\n                    </div>\n                  </div>\n                  <button\n                    onClick={() => setSelectedEmployee(null)}\n                    className=\"text-gray-500 hover:text-gray-700\"\n                  >\n                    âœ•\n                  </button>\n                </div>\n              </div>\n\n              <div className=\"p-6 space-y-6\">\n                {/* Employee Info */}\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n                  <div className=\"bg-blue-50 p-4 rounded-lg\">\n                    <h3 className=\"font-medium text-blue-900 mb-2\">Training Progress</h3>\n                    <p className=\"text-2xl font-bold text-blue-600\">\n                      {selectedEmployee.completedTrainings}/{selectedEmployee.totalTrainings}\n                    </p>\n                    <p className=\"text-sm text-blue-700\">Completed Trainings</p>\n                  </div>\n                  <div className=\"bg-green-50 p-4 rounded-lg\">\n                    <h3 className=\"font-medium text-green-900 mb-2\">Performance Score</h3>\n                    <p className=\"text-2xl font-bold text-green-600\">\n                      {selectedEmployee.performance || 'N/A'}%\n                    </p>\n                    <p className=\"text-sm text-green-700\">Average Score</p>\n                  </div>\n                  <div className=\"bg-purple-50 p-4 rounded-lg\">\n                    <h3 className=\"font-medium text-purple-900 mb-2\">Certifications</h3>\n                    <p className=\"text-2xl font-bold text-purple-600\">\n                      {selectedEmployee.certifications.length}\n                    </p>\n                    <p className=\"text-sm text-purple-700\">Active Certifications</p>\n                  </div>\n                </div>\n\n                {/* Training History */}\n                <div>\n                  <h3 className=\"text-lg font-semibold mb-4\">Training History</h3>\n                  <div className=\"space-y-3\">\n                    {selectedEmployee.trainingHistory.map(training => (\n                      <div key={training.id} className=\"flex justify-between items-center bg-gray-50 p-4 rounded-lg\">\n                        <div>\n                          <h4 className=\"font-medium\">{training.title}</h4>\n                          <div className=\"flex items-center space-x-2 mt-1\">\n                            <p className=\"text-sm text-gray-600\">{training.date}</p>\n                            <span className=\"text-xs bg-gray-200 px-2 py-1 rounded\">\n                              {getLanguageName(training.language)}\n                            </span>\n                          </div>\n                        </div>\n                        <div className=\"text-right\">\n                          <p className={`font-medium ${\n                            training.score >= 90 ? 'text-green-600' : \n                            training.score >= 80 ? 'text-yellow-600' : 'text-red-600'\n                          }`}>\n                            {training.score}%\n                          </p>\n                          <p className=\"text-sm text-gray-500\">{training.status}</p>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n\n                {/* Recommendations */}\n                <div>\n                  <h3 className=\"text-lg font-semibold mb-4\">AI Training Recommendations</h3>\n                  <div className=\"space-y-3\">\n                    {selectedEmployee.recommendedTrainings.map((rec, index) => (\n                      <div key={index} className=\"bg-yellow-50 p-4 rounded-lg border-l-4 border-yellow-400\">\n                        <div className=\"flex justify-between items-start\">\n                          <div>\n                            <h4 className=\"font-medium text-yellow-900\">{rec.title}</h4>\n                            <p className=\"text-sm text-yellow-800 mt-1\">{rec.reason}</p>\n                          </div>\n                          <span className={`px-3 py-1 rounded text-sm ${\n                            rec.priority === 'high' ? 'bg-red-100 text-red-800' :\n                            rec.priority === 'medium' ? 'bg-yellow-100 text-yellow-800' :\n                            'bg-green-100 text-green-800'\n                          }`}>\n                            {rec.priority} priority\n                          </span>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n\n                {/* Certifications */}\n                {selectedEmployee.certifications.length > 0 && (\n                  <div>\n                    <h3 className=\"text-lg font-semibold mb-4\">Active Certifications</h3>\n                    <div className=\"flex flex-wrap gap-2\">\n                      {selectedEmployee.certifications.map((cert, index) => (\n                        <span key={index} className=\"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm\">\n                          {cert}\n                        </span>\n                      ))}\n                    </div>\n                  </div>\n                )}\n              </div>\n\n              <div className=\"p-6 border-t bg-gray-50 flex justify-end space-x-3\">\n                <button\n                  onClick={() => setSelectedEmployee(null)}\n                  className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50\"\n                >\n                  Close\n                </button>\n                <button\n                  onClick={() => {\n                    setCurrentView('create');\n                  }}\n                  className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\"\n                >\n                  Assign Training\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* RAG Manager Modal */}\n        {showRAGManager && (\n          <RAGManager\n            onClose={() => setShowRAGManager(false)}\n            currentUser={currentUser}\n          />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default LineSmartPlatform;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}