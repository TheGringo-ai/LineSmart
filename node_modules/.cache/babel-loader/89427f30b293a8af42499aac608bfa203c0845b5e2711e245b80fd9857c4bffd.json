{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Search,FileText,Image,Calendar,User,Tag,Filter,Download,Eye,Trash2}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const RAGDocumentLibrary=_ref=>{let{documents,onDocumentSelect,onDocumentDelete,searchQuery,onSearchChange}=_ref;const[filteredDocuments,setFilteredDocuments]=useState(documents||[]);const[selectedFilter,setSelectedFilter]=useState('all');const[sortBy,setSortBy]=useState('newest');const[viewMode,setViewMode]=useState('grid');const fileTypeFilters=[{id:'all',label:'All Files',count:(documents===null||documents===void 0?void 0:documents.length)||0},{id:'pdf',label:'PDFs',count:(documents===null||documents===void 0?void 0:documents.filter(d=>d.type==='pdf').length)||0},{id:'image',label:'Images',count:(documents===null||documents===void 0?void 0:documents.filter(d=>d.type==='image').length)||0},{id:'text',label:'Text Files',count:(documents===null||documents===void 0?void 0:documents.filter(d=>d.type==='text').length)||0},{id:'spreadsheet',label:'Spreadsheets',count:(documents===null||documents===void 0?void 0:documents.filter(d=>d.type==='spreadsheet').length)||0}];useEffect(()=>{let filtered=documents||[];// Apply search filter\nif(searchQuery){filtered=filtered.filter(doc=>{var _doc$content,_doc$tags;return doc.name.toLowerCase().includes(searchQuery.toLowerCase())||((_doc$content=doc.content)===null||_doc$content===void 0?void 0:_doc$content.toLowerCase().includes(searchQuery.toLowerCase()))||((_doc$tags=doc.tags)===null||_doc$tags===void 0?void 0:_doc$tags.some(tag=>tag.toLowerCase().includes(searchQuery.toLowerCase())));});}// Apply type filter\nif(selectedFilter!=='all'){filtered=filtered.filter(doc=>doc.type===selectedFilter);}// Apply sorting\nfiltered.sort((a,b)=>{switch(sortBy){case'newest':return new Date(b.uploadedAt)-new Date(a.uploadedAt);case'oldest':return new Date(a.uploadedAt)-new Date(b.uploadedAt);case'name':return a.name.localeCompare(b.name);case'size':return b.size-a.size;default:return 0;}});setFilteredDocuments(filtered);},[documents,searchQuery,selectedFilter,sortBy]);const getFileIcon=type=>{switch(type){case'pdf':return/*#__PURE__*/_jsx(FileText,{className:\"h-8 w-8 text-red-600\"});case'image':return/*#__PURE__*/_jsx(Image,{className:\"h-8 w-8 text-blue-600\"});case'text':return/*#__PURE__*/_jsx(FileText,{className:\"h-8 w-8 text-gray-600\"});case'spreadsheet':return/*#__PURE__*/_jsx(FileText,{className:\"h-8 w-8 text-green-600\"});default:return/*#__PURE__*/_jsx(FileText,{className:\"h-8 w-8 text-gray-600\"});}};const formatFileSize=bytes=>{if(bytes===0)return'0 Bytes';const k=1024;const sizes=['Bytes','KB','MB','GB'];const i=Math.floor(Math.log(bytes)/Math.log(k));return parseFloat((bytes/Math.pow(k,i)).toFixed(2))+' '+sizes[i];};const formatDate=dateString=>{return new Date(dateString).toLocaleDateString('en-US',{year:'numeric',month:'short',day:'numeric'});};return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl border border-gray-200 p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"\\uD83D\\uDCDA Document Library\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-2\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setViewMode(viewMode==='grid'?'list':'grid'),className:\"px-3 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium\",children:viewMode==='grid'?'List View':'Grid View'})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(Search,{className:\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search documents, content, or tags...\",value:searchQuery||'',onChange:e=>onSearchChange===null||onSearchChange===void 0?void 0:onSearchChange(e.target.value),className:\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap items-center justify-between gap-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-2\",children:fileTypeFilters.map(filter=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setSelectedFilter(filter.id),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-colors ${selectedFilter===filter.id?'bg-blue-100 text-blue-700 border border-blue-200':'bg-gray-100 text-gray-600 hover:bg-gray-200'}`,children:[filter.label,\" (\",filter.count,\")\"]},filter.id))}),/*#__PURE__*/_jsxs(\"select\",{value:sortBy,onChange:e=>setSortBy(e.target.value),className:\"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"newest\",children:\"Newest First\"}),/*#__PURE__*/_jsx(\"option\",{value:\"oldest\",children:\"Oldest First\"}),/*#__PURE__*/_jsx(\"option\",{value:\"name\",children:\"Name A-Z\"}),/*#__PURE__*/_jsx(\"option\",{value:\"size\",children:\"Largest First\"})]})]})]}),filteredDocuments.length>0?/*#__PURE__*/_jsx(\"div\",{className:`grid gap-4 ${viewMode==='grid'?'grid-cols-1 md:grid-cols-2 lg:grid-cols-3':'grid-cols-1'}`,children:filteredDocuments.map(doc=>/*#__PURE__*/_jsxs(\"div\",{className:`bg-gray-50 rounded-lg p-4 hover:bg-gray-100 transition-colors border border-gray-200 ${viewMode==='list'?'flex items-center space-x-4':''}`,children:[/*#__PURE__*/_jsx(\"div\",{className:`flex-shrink-0 ${viewMode==='list'?'':'mb-3'}`,children:getFileIcon(doc.type)}),/*#__PURE__*/_jsxs(\"div\",{className:`flex-1 ${viewMode==='list'?'':'space-y-2'}`,children:[/*#__PURE__*/_jsxs(\"div\",{className:`${viewMode==='list'?'flex items-center justify-between':''}`,children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-900 truncate\",title:doc.name,children:doc.name}),viewMode==='list'&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 ml-4\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-500\",children:formatFileSize(doc.size)}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-500\",children:formatDate(doc.uploadedAt)})]})]}),viewMode==='grid'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between text-sm text-gray-500\",children:[/*#__PURE__*/_jsx(\"span\",{children:formatFileSize(doc.size)}),/*#__PURE__*/_jsx(\"span\",{children:formatDate(doc.uploadedAt)})]}),doc.tags&&doc.tags.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-1\",children:[doc.tags.slice(0,3).map((tag,idx)=>/*#__PURE__*/_jsx(\"span\",{className:\"inline-block px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full\",children:tag},idx)),doc.tags.length>3&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs text-gray-500\",children:[\"+\",doc.tags.length-3,\" more\"]})]})]}),viewMode==='list'&&doc.tags&&doc.tags.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-1 mt-1\",children:doc.tags.slice(0,5).map((tag,idx)=>/*#__PURE__*/_jsx(\"span\",{className:\"inline-block px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full\",children:tag},idx))})]}),/*#__PURE__*/_jsx(\"div\",{className:`flex ${viewMode==='list'?'items-center space-x-2':'justify-between mt-3'}`,children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>onDocumentSelect===null||onDocumentSelect===void 0?void 0:onDocumentSelect(doc),className:\"p-2 text-blue-600 hover:bg-blue-100 rounded-lg transition-colors\",title:\"View document\",children:/*#__PURE__*/_jsx(Eye,{className:\"h-4 w-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.open(doc.url,'_blank'),className:\"p-2 text-green-600 hover:bg-green-100 rounded-lg transition-colors\",title:\"Download\",children:/*#__PURE__*/_jsx(Download,{className:\"h-4 w-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>onDocumentDelete===null||onDocumentDelete===void 0?void 0:onDocumentDelete(doc.id),className:\"p-2 text-red-600 hover:bg-red-100 rounded-lg transition-colors\",title:\"Delete\",children:/*#__PURE__*/_jsx(Trash2,{className:\"h-4 w-4\"})})]})})]},doc.id))}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(FileText,{className:\"mx-auto h-12 w-12 text-gray-400 mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"No documents found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:searchQuery||selectedFilter!=='all'?'Try adjusting your search or filters':'Upload some documents to get started'})]})]});};export default RAGDocumentLibrary;","map":{"version":3,"names":["React","useState","useEffect","Search","FileText","Image","Calendar","User","Tag","Filter","Download","Eye","Trash2","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","RAGDocumentLibrary","_ref","documents","onDocumentSelect","onDocumentDelete","searchQuery","onSearchChange","filteredDocuments","setFilteredDocuments","selectedFilter","setSelectedFilter","sortBy","setSortBy","viewMode","setViewMode","fileTypeFilters","id","label","count","length","filter","d","type","filtered","doc","_doc$content","_doc$tags","name","toLowerCase","includes","content","tags","some","tag","sort","a","b","Date","uploadedAt","localeCompare","size","getFileIcon","className","formatFileSize","bytes","k","sizes","i","Math","floor","log","parseFloat","pow","toFixed","formatDate","dateString","toLocaleDateString","year","month","day","children","onClick","placeholder","value","onChange","e","target","map","title","slice","idx","window","open","url"],"sources":["/Users/fredtaylor/Desktop/linesmartcl/src/components/RAGDocumentLibrary.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Search, FileText, Image, Calendar, User, Tag, Filter, Download, Eye, Trash2 } from 'lucide-react';\n\nconst RAGDocumentLibrary = ({ documents, onDocumentSelect, onDocumentDelete, searchQuery, onSearchChange }) => {\n  const [filteredDocuments, setFilteredDocuments] = useState(documents || []);\n  const [selectedFilter, setSelectedFilter] = useState('all');\n  const [sortBy, setSortBy] = useState('newest');\n  const [viewMode, setViewMode] = useState('grid');\n\n  const fileTypeFilters = [\n    { id: 'all', label: 'All Files', count: documents?.length || 0 },\n    { id: 'pdf', label: 'PDFs', count: documents?.filter(d => d.type === 'pdf').length || 0 },\n    { id: 'image', label: 'Images', count: documents?.filter(d => d.type === 'image').length || 0 },\n    { id: 'text', label: 'Text Files', count: documents?.filter(d => d.type === 'text').length || 0 },\n    { id: 'spreadsheet', label: 'Spreadsheets', count: documents?.filter(d => d.type === 'spreadsheet').length || 0 }\n  ];\n\n  useEffect(() => {\n    let filtered = documents || [];\n\n    // Apply search filter\n    if (searchQuery) {\n      filtered = filtered.filter(doc => \n        doc.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\n        doc.content?.toLowerCase().includes(searchQuery.toLowerCase()) ||\n        doc.tags?.some(tag => tag.toLowerCase().includes(searchQuery.toLowerCase()))\n      );\n    }\n\n    // Apply type filter\n    if (selectedFilter !== 'all') {\n      filtered = filtered.filter(doc => doc.type === selectedFilter);\n    }\n\n    // Apply sorting\n    filtered.sort((a, b) => {\n      switch (sortBy) {\n        case 'newest':\n          return new Date(b.uploadedAt) - new Date(a.uploadedAt);\n        case 'oldest':\n          return new Date(a.uploadedAt) - new Date(b.uploadedAt);\n        case 'name':\n          return a.name.localeCompare(b.name);\n        case 'size':\n          return b.size - a.size;\n        default:\n          return 0;\n      }\n    });\n\n    setFilteredDocuments(filtered);\n  }, [documents, searchQuery, selectedFilter, sortBy]);\n\n  const getFileIcon = (type) => {\n    switch (type) {\n      case 'pdf':\n        return <FileText className=\"h-8 w-8 text-red-600\" />;\n      case 'image':\n        return <Image className=\"h-8 w-8 text-blue-600\" />;\n      case 'text':\n        return <FileText className=\"h-8 w-8 text-gray-600\" />;\n      case 'spreadsheet':\n        return <FileText className=\"h-8 w-8 text-green-600\" />;\n      default:\n        return <FileText className=\"h-8 w-8 text-gray-600\" />;\n    }\n  };\n\n  const formatFileSize = (bytes) => {\n    if (bytes === 0) return '0 Bytes';\n    const k = 1024;\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n  };\n\n  const formatDate = (dateString) => {\n    return new Date(dateString).toLocaleDateString('en-US', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric'\n    });\n  };\n\n  return (\n    <div className=\"bg-white rounded-xl border border-gray-200 p-6\">\n      <div className=\"flex items-center justify-between mb-6\">\n        <h3 className=\"text-lg font-semibold text-gray-900\">ðŸ“š Document Library</h3>\n        <div className=\"flex items-center space-x-2\">\n          <button\n            onClick={() => setViewMode(viewMode === 'grid' ? 'list' : 'grid')}\n            className=\"px-3 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium\"\n          >\n            {viewMode === 'grid' ? 'List View' : 'Grid View'}\n          </button>\n        </div>\n      </div>\n\n      {/* Search and Filters */}\n      <div className=\"space-y-4 mb-6\">\n        {/* Search Bar */}\n        <div className=\"relative\">\n          <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\" />\n          <input\n            type=\"text\"\n            placeholder=\"Search documents, content, or tags...\"\n            value={searchQuery || ''}\n            onChange={(e) => onSearchChange?.(e.target.value)}\n            className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n          />\n        </div>\n\n        <div className=\"flex flex-wrap items-center justify-between gap-4\">\n          {/* File Type Filters */}\n          <div className=\"flex flex-wrap gap-2\">\n            {fileTypeFilters.map((filter) => (\n              <button\n                key={filter.id}\n                onClick={() => setSelectedFilter(filter.id)}\n                className={`px-3 py-1.5 rounded-full text-sm font-medium transition-colors ${\n                  selectedFilter === filter.id\n                    ? 'bg-blue-100 text-blue-700 border border-blue-200'\n                    : 'bg-gray-100 text-gray-600 hover:bg-gray-200'\n                }`}\n              >\n                {filter.label} ({filter.count})\n              </button>\n            ))}\n          </div>\n\n          {/* Sort Options */}\n          <select\n            value={sortBy}\n            onChange={(e) => setSortBy(e.target.value)}\n            className=\"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n          >\n            <option value=\"newest\">Newest First</option>\n            <option value=\"oldest\">Oldest First</option>\n            <option value=\"name\">Name A-Z</option>\n            <option value=\"size\">Largest First</option>\n          </select>\n        </div>\n      </div>\n\n      {/* Documents Grid/List */}\n      {filteredDocuments.length > 0 ? (\n        <div className={`grid gap-4 ${\n          viewMode === 'grid' \n            ? 'grid-cols-1 md:grid-cols-2 lg:grid-cols-3' \n            : 'grid-cols-1'\n        }`}>\n          {filteredDocuments.map((doc) => (\n            <div\n              key={doc.id}\n              className={`bg-gray-50 rounded-lg p-4 hover:bg-gray-100 transition-colors border border-gray-200 ${\n                viewMode === 'list' ? 'flex items-center space-x-4' : ''\n              }`}\n            >\n              {/* File Icon */}\n              <div className={`flex-shrink-0 ${viewMode === 'list' ? '' : 'mb-3'}`}>\n                {getFileIcon(doc.type)}\n              </div>\n\n              {/* File Info */}\n              <div className={`flex-1 ${viewMode === 'list' ? '' : 'space-y-2'}`}>\n                <div className={`${viewMode === 'list' ? 'flex items-center justify-between' : ''}`}>\n                  <h4 className=\"font-medium text-gray-900 truncate\" title={doc.name}>\n                    {doc.name}\n                  </h4>\n                  {viewMode === 'list' && (\n                    <div className=\"flex items-center space-x-2 ml-4\">\n                      <span className=\"text-sm text-gray-500\">{formatFileSize(doc.size)}</span>\n                      <span className=\"text-sm text-gray-500\">{formatDate(doc.uploadedAt)}</span>\n                    </div>\n                  )}\n                </div>\n\n                {viewMode === 'grid' && (\n                  <>\n                    <div className=\"flex items-center justify-between text-sm text-gray-500\">\n                      <span>{formatFileSize(doc.size)}</span>\n                      <span>{formatDate(doc.uploadedAt)}</span>\n                    </div>\n                    \n                    {doc.tags && doc.tags.length > 0 && (\n                      <div className=\"flex flex-wrap gap-1\">\n                        {doc.tags.slice(0, 3).map((tag, idx) => (\n                          <span\n                            key={idx}\n                            className=\"inline-block px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full\"\n                          >\n                            {tag}\n                          </span>\n                        ))}\n                        {doc.tags.length > 3 && (\n                          <span className=\"text-xs text-gray-500\">+{doc.tags.length - 3} more</span>\n                        )}\n                      </div>\n                    )}\n                  </>\n                )}\n\n                {viewMode === 'list' && doc.tags && doc.tags.length > 0 && (\n                  <div className=\"flex flex-wrap gap-1 mt-1\">\n                    {doc.tags.slice(0, 5).map((tag, idx) => (\n                      <span\n                        key={idx}\n                        className=\"inline-block px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full\"\n                      >\n                        {tag}\n                      </span>\n                    ))}\n                  </div>\n                )}\n              </div>\n\n              {/* Actions */}\n              <div className={`flex ${\n                viewMode === 'list' ? 'items-center space-x-2' : 'justify-between mt-3'\n              }`}>\n                <div className=\"flex items-center space-x-2\">\n                  <button\n                    onClick={() => onDocumentSelect?.(doc)}\n                    className=\"p-2 text-blue-600 hover:bg-blue-100 rounded-lg transition-colors\"\n                    title=\"View document\"\n                  >\n                    <Eye className=\"h-4 w-4\" />\n                  </button>\n                  <button\n                    onClick={() => window.open(doc.url, '_blank')}\n                    className=\"p-2 text-green-600 hover:bg-green-100 rounded-lg transition-colors\"\n                    title=\"Download\"\n                  >\n                    <Download className=\"h-4 w-4\" />\n                  </button>\n                  <button\n                    onClick={() => onDocumentDelete?.(doc.id)}\n                    className=\"p-2 text-red-600 hover:bg-red-100 rounded-lg transition-colors\"\n                    title=\"Delete\"\n                  >\n                    <Trash2 className=\"h-4 w-4\" />\n                  </button>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      ) : (\n        <div className=\"text-center py-12\">\n          <FileText className=\"mx-auto h-12 w-12 text-gray-400 mb-4\" />\n          <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No documents found</h3>\n          <p className=\"text-gray-600\">\n            {searchQuery || selectedFilter !== 'all'\n              ? 'Try adjusting your search or filters'\n              : 'Upload some documents to get started'\n            }\n          </p>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default RAGDocumentLibrary;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}